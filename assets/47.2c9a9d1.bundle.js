"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[47],{416(f,c,b){b.r(c),b.d(c,{default:()=>s});var g=b(468),h=b(472),i=b(9),j=b(10),k=b(7);function l(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}var m=b(73);function n(a,c){if((0,m.Z)(Symbol)===k.i_||a[Symbol.iterator]==k.X9){if((0,k.un)(a)||(e=function(a,c){if(a){if("string"==typeof a)return l(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return l(a,c)}}(a))||c&&a&&(0,m.Z)(a.length)===k.Wu){e&&(a=e);var d=0,b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,f,g=!0,h=!1;return{s:function(){e=a[Symbol.iterator]()},n:function(){var a=e.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==e.return||e.return()}finally{if(h)throw f}}}}var o=b(462),p=b(463),d=function(){function a(){(0,o.Z)(this,a)}return(0,p.Z)(a,[{key:"on",value:function(a,b){return this._callbacks=this._callbacks||{},this._callbacks[a]||(this._callbacks[a]=[]),this._callbacks[a].push(b),this}},{key:"emit",value:function(g){this._callbacks=this._callbacks||{};var d=this._callbacks[g];if(d){for(var c=arguments.length,e=new Array(c>1?c-1:0),a=1;a<c;a++)e[a-1]=arguments[a];var f,b=n(d);try{for(b.s();!(f=b.n()).done;)f.value.apply(this,e)}catch(h){b.e(h)}finally{b.f()}}return this}},{key:"off",value:function(c,d){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var a=this._callbacks[c];if(!a)return this;if(1===arguments.length)return delete this._callbacks[c],this;for(var b=0;b<a.length;b++)if(a[b]===d){a.splice(b,1);break}return this}}]),a}(),a=function(b){(0,i.Z)(a,b);var c=(0,j.Z)(a);function a(i,e){if((0,o.Z)(this,a),(b=c.call(this)).element=i,b.version=a.version,b.defaultOptions.previewTemplate=b.defaultOptions.previewTemplate.replace(/\n*/g,""),b.clickableElements=[],b.listeners=[],b.files=[],"string"==typeof b.element&&(b.element=document.querySelector(b.element)),!b.element||null==b.element.nodeType)throw new Error("Invalid dropzone element.");if(b.element.dropzone)throw new Error("Dropzone already attached.");a.instances.push((0,h.Z)(b)),b.element.dropzone=(0,h.Z)(b);var b,d,f,j=null!=(f=a.optionsForElement(b.element))?f:{};if(b.options=a.extend({},b.defaultOptions,j,null!=e?e:{}),b.options.forceFallback||!a.isBrowserSupported())return(0,g.Z)(b,b.options.fallback.call((0,h.Z)(b)));if(null==b.options.url&&(b.options.url=b.element.getAttribute("action")),!b.options.url)throw new Error("No URL provided.");if(b.options.acceptedFiles&&b.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(b.options.uploadMultiple&&b.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return b.options.acceptedMimeTypes&&(b.options.acceptedFiles=b.options.acceptedMimeTypes,delete b.options.acceptedMimeTypes),null!=b.options.renameFilename&&(b.options.renameFile=function(a){return b.options.renameFilename.call((0,h.Z)(b),a.name,a)}),b.options.method=b.options.method.toUpperCase(),(d=b.getExistingFallback())&&d.parentNode&&d.parentNode.removeChild(d),!1!==b.options.previewsContainer&&(b.options.previewsContainer?b.previewsContainer=a.getElement(b.options.previewsContainer,"previewsContainer"):b.previewsContainer=b.element),b.options.clickable&&(!0===b.options.clickable?b.clickableElements=[b.element]:b.clickableElements=a.getElements(b.options.clickable,"clickable")),b.init(),b}return(0,p.Z)(a,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(a){return a.accepted}).map(function(a){return a})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(a){return!a.accepted}).map(function(a){return a})}},{key:"getFilesWithStatus",value:function(a){return this.files.filter(function(b){return b.status===a}).map(function(a){return a})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(a.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(a.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(a.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(b){return b.status===a.UPLOADING||b.status===a.QUEUED}).map(function(a){return a})}},{key:"init",value:function(){var f=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(a.createElement('<div class="dz-default dz-message"><span>'.concat(this.options.dictDefaultMessage,"</span></div>"))),this.clickableElements.length&&function a(){return f.hiddenFileInput&&f.hiddenFileInput.parentNode.removeChild(f.hiddenFileInput),f.hiddenFileInput=document.createElement("input"),f.hiddenFileInput.setAttribute("type","file"),(null===f.options.maxFiles||f.options.maxFiles>1)&&f.hiddenFileInput.setAttribute("multiple","multiple"),f.hiddenFileInput.className="dz-hidden-input",null!==f.options.acceptedFiles&&f.hiddenFileInput.setAttribute("accept",f.options.acceptedFiles),null!==f.options.capture&&f.hiddenFileInput.setAttribute("capture",f.options.capture),f.hiddenFileInput.style.visibility="hidden",f.hiddenFileInput.style.position="absolute",f.hiddenFileInput.style.top="0",f.hiddenFileInput.style.left="0",f.hiddenFileInput.style.height="0",f.hiddenFileInput.style.width="0",document.querySelector(f.options.hiddenInputContainer).appendChild(f.hiddenFileInput),f.hiddenFileInput.addEventListener("change",function(){var c=f.hiddenFileInput.files;if(c.length){var d,b=n(c);try{for(b.s();!(d=b.n()).done;){var e=d.value;f.addFile(e)}}catch(g){b.e(g)}finally{b.f()}}return f.emit("addedfiles",c),a()})}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var c,b=n(this.events);try{for(b.s();!(c=b.n()).done;){var d=c.value;this.on(d,this.options[d])}}catch(e){b.e(e)}finally{b.f()}this.on("uploadprogress",function(){return f.updateTotalUploadProgress()}),this.on("removedfile",function(){return f.updateTotalUploadProgress()}),this.on("canceled",function(a){return f.emit("complete",a)}),this.on("complete",function(a){if(0===f.getAddedFiles().length&&0===f.getUploadingFiles().length&&0===f.getQueuedFiles().length)return setTimeout(function(){return f.emit("queuecomplete")},0)});var g=function(a){return(a.stopPropagation(),a.preventDefault)?a.preventDefault():a.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(a){return f.emit("dragstart",a)},dragenter:function(a){return g(a),f.emit("dragenter",a)},dragover:function(a){var b;try{b=a.dataTransfer.effectAllowed}catch(c){}return a.dataTransfer.dropEffect="move"===b||"linkMove"===b?"move":"copy",g(a),f.emit("dragover",a)},dragleave:function(a){return f.emit("dragleave",a)},drop:function(a){return g(a),f.drop(a)},dragend:function(a){return f.emit("dragend",a)}}}],this.clickableElements.forEach(function(b){return f.listeners.push({element:b,events:{click:function(c){return(b!==f.element||c.target===f.element||a.elementInside(c.target,f.element.querySelector(".dz-message")))&&f.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,a.instances.splice(a.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var b=0,c=0;if(this.getActiveFiles().length){var d,e,a=n(this.getActiveFiles());try{for(a.s();!(e=a.n()).done;){var f=e.value;b+=f.upload.bytesSent,c+=f.upload.total}}catch(g){a.e(g)}finally{a.f()}d=100*b/c}else d=100;return this.emit("totaluploadprogress",d,c,b)}},{key:"_getParamName",value:function(a){return"function"==typeof this.options.paramName?this.options.paramName(a):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(a,"]"):"")}},{key:"_renameFile",value:function(a){return"function"!=typeof this.options.renameFile?a.name:this.options.renameFile(a)}},{key:"getFallbackForm",value:function(){if(e=this.getExistingFallback())return e;var e,b,c='<div class="dz-fallback">';this.options.dictFallbackText&&(c+="<p>".concat(this.options.dictFallbackText,"</p>")),c+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var d=a.createElement(c);return"FORM"!==this.element.tagName?(b=a.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(d):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=b?b:d}},{key:"getExistingFallback",value:function(){for(var a=0,b=["div","form"];a<b.length;a++){var c,d=b[a];if(c=function(d){var b,a=n(d);try{for(a.s();!(b=a.n()).done;){var c=b.value;if(/(^| )fallback($| )/.test(c.className))return c}}catch(e){a.e(e)}finally{a.f()}}(this.element.getElementsByTagName(d)))return c}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(a){return function(){var b=[];for(var c in a.events){var d=a.events[c];b.push(a.element.addEventListener(c,d,!1))}return b}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(a){return function(){var b=[];for(var c in a.events){var d=a.events[c];b.push(a.element.removeEventListener(c,d,!1))}return b}()})}},{key:"disable",value:function(){var a=this;return this.clickableElements.forEach(function(a){return a.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(b){return a.cancelUpload(b)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(a){return a.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(c){var b=0,d="b";if(c>0){for(var e=["tb","gb","mb","kb","b"],a=0;a<e.length;a++){var f=e[a];if(c>=Math.pow(this.options.filesizeBase,4-a)/10){b=c/Math.pow(this.options.filesizeBase,4-a),d=f;break}}b=Math.round(10*b)/10}return"<strong>".concat(b,"</strong> ").concat(this.options.dictFileSizeUnits[d])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(a){if(a.dataTransfer){this.emit("drop",a);var c=a.dataTransfer.files;if(this.emit("addedfiles",c),c.length){var b=a.dataTransfer.items;b&&b.length&&null!=b[0].webkitGetAsEntry?this._addFilesFromItems(b):this.handleFiles(c)}}}},{key:"paste",value:function(a){if(null!=v(null!=a?a.clipboardData:void 0,function(a){return a.items})){this.emit("paste",a);var b=a.clipboardData.items;if(b.length)return this._addFilesFromItems(b)}}},{key:"handleFiles",value:function(c){var b,a=n(c);try{for(a.s();!(b=a.n()).done;){var d=b.value;this.addFile(d)}}catch(e){a.e(e)}finally{a.f()}}},{key:"_addFilesFromItems",value:function(a){var b=this;return function(){var g,d=[],f=n(a);try{for(f.s();!(g=f.n()).done;){var e,c=g.value;null!=c.webkitGetAsEntry&&(e=c.webkitGetAsEntry())?e.isFile?d.push(b.addFile(c.getAsFile())):e.isDirectory?d.push(b._addFilesFromDirectory(e,e.name)):d.push(void 0):null!=c.getAsFile&&(null==c.kind||"file"===c.kind)?d.push(b.addFile(c.getAsFile())):d.push(void 0)}}catch(h){f.e(h)}finally{f.f()}return d}()}},{key:"_addFilesFromDirectory",value:function(a,b){var c=this,d=a.createReader(),e=function(a){return w(console,"log",function(b){return b.log(a)})};return function a(){return d.readEntries(function(f){if(f.length>0){var g,e=n(f);try{for(e.s();!(g=e.n()).done;){var d=g.value;d.isFile?d.file(function(a){if(!c.options.ignoreHiddenFiles||"."!==a.name.substring(0,1))return a.fullPath="".concat(b,"/").concat(a.name),c.addFile(a)}):d.isDirectory&&c._addFilesFromDirectory(d,"".concat(b,"/").concat(d.name))}}catch(h){e.e(h)}finally{e.f()}a()}return null},e)}()}},{key:"accept",value:function(b,c){return b.size>1048576*this.options.maxFilesize?c(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(b.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):a.isValidFile(b,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(c(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",b)):this.options.accept.call(this,b,c):c(this.options.dictInvalidFileType)}},{key:"addFile",value:function(b){var c=this;return b.upload={uuid:a.uuidv4(),progress:0,total:b.size,bytesSent:0,filename:this._renameFile(b),chunked:this.options.chunking&&(this.options.forceChunking||b.size>this.options.chunkSize),totalChunkCount:Math.ceil(b.size/this.options.chunkSize)},this.files.push(b),b.status=a.ADDED,this.emit("addedfile",b),this._enqueueThumbnail(b),this.accept(b,function(a){return a?(b.accepted=!1,c._errorProcessing([b],a)):(b.accepted=!0,c.options.autoQueue&&c.enqueueFile(b)),c._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(c){var b,a=n(c);try{for(a.s();!(b=a.n()).done;){var d=b.value;this.enqueueFile(d)}}catch(e){a.e(e)}finally{a.f()}return null}},{key:"enqueueFile",value:function(b){var c=this;if(b.status===a.ADDED&& !0===b.accepted){if(b.status=a.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return c.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}},{key:"_enqueueThumbnail",value:function(a){var b=this;if(this.options.createImageThumbnails&&a.type.match(/image.*/)&&a.size<=1048576*this.options.maxThumbnailFilesize)return this._thumbnailQueue.push(a),setTimeout(function(){return b._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var b=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var a=this._thumbnailQueue.shift();return this.createThumbnail(a,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(c){return b.emit("thumbnail",a,c),b._processingThumbnail=!1,b._processThumbnailQueue()})}}},{key:"removeFile",value:function(b){if(b.status===a.UPLOADING&&this.cancelUpload(b),this.files=q(this.files,b),this.emit("removedfile",b),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(c){null==c&&(c=!1);var d,b=n(this.files.slice());try{for(b.s();!(d=b.n()).done;){var e=d.value;(e.status!==a.UPLOADING||c)&&this.removeFile(e)}}catch(f){b.e(f)}finally{b.f()}return null}},{key:"resizeImage",value:function(b,c,d,f,g){var h=this;return this.createThumbnail(b,c,d,f,!1,function(i,f){if(null==f)return g(b);var c=h.options.resizeMimeType;null==c&&(c=b.type);var d=f.toDataURL(c,h.options.resizeQuality);return("image/jpeg"===c||"image/jpg"===c)&&(d=e.restore(b.dataURL,d)),g(a.dataURItoBlob(d))})}},{key:"createThumbnail",value:function(b,c,d,e,f,g){var h=this,a=new FileReader;return a.onload=function(){if(b.dataURL=a.result,"image/svg+xml"===b.type){null!=g&&g(a.result);return}return h.createThumbnailFromUrl(b,c,d,e,f,g)},a.readAsDataURL(b)}},{key:"createThumbnailFromUrl",value:function(d,e,f,g,h,b,c){var i=this,a=document.createElement("img");return c&&(a.crossOrigin=c),a.onload=function(){var c=function(a){return a(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&h&&(c=function(b){return EXIF.getData(a,function(){return b(EXIF.getTag(this,"Orientation"))})}),c(function(k){d.width=a.width,d.height=a.height;var c=i.options.resize.call(i,d,e,f,g),j=document.createElement("canvas"),h=j.getContext("2d");switch(j.width=c.trgWidth,j.height=c.trgHeight,k>4&&(j.width=c.trgHeight,j.height=c.trgWidth),k){case 2:h.translate(j.width,0),h.scale(-1,1);break;case 3:h.translate(j.width,j.height),h.rotate(Math.PI);break;case 4:h.translate(0,j.height),h.scale(1,-1);break;case 5:h.rotate(.5*Math.PI),h.scale(1,-1);break;case 6:h.rotate(.5*Math.PI),h.translate(0,-j.height);break;case 7:h.rotate(.5*Math.PI),h.translate(j.width,-j.height),h.scale(-1,1);break;case 8:h.rotate(-0.5*Math.PI),h.translate(-j.width,0)}u(h,a,null!=c.srcX?c.srcX:0,null!=c.srcY?c.srcY:0,c.srcWidth,c.srcHeight,null!=c.trgX?c.trgX:0,null!=c.trgY?c.trgY:0,c.trgWidth,c.trgHeight);var l=j.toDataURL("image/png");if(null!=b)return b(l,j)})},null!=b&&(a.onerror=b),a.src=d.dataURL}},{key:"processQueue",value:function(){var b=this.options.parallelUploads,c=this.getUploadingFiles().length,d=c;if(!(c>=b)){var a=this.getQueuedFiles();if(a.length>0){if(this.options.uploadMultiple)return this.processFiles(a.slice(0,b-c));for(;d<b;){if(!a.length)return;this.processFile(a.shift()),d++}}}}},{key:"processFile",value:function(a){return this.processFiles([a])}},{key:"processFiles",value:function(c){var e,b=n(c);try{for(b.s();!(e=b.n()).done;){var d=e.value;d.processing=!0,d.status=a.UPLOADING,this.emit("processing",d)}}catch(f){b.e(f)}finally{b.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",c),this.uploadFiles(c)}},{key:"_getFilesWithXhr",value:function(a){return this.files.filter(function(b){return b.xhr===a}).map(function(a){return a})}},{key:"cancelUpload",value:function(b){if(b.status===a.UPLOADING){var f,e=this._getFilesWithXhr(b.xhr),c=n(e);try{for(c.s();!(f=c.n()).done;)f.value.status=a.CANCELED}catch(h){c.e(h)}finally{c.f()}void 0!==b.xhr&&b.xhr.abort();var g,d=n(e);try{for(d.s();!(g=d.n()).done;){var i=g.value;this.emit("canceled",i)}}catch(j){d.e(j)}finally{d.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",e)}else(b.status===a.ADDED||b.status===a.QUEUED)&&(b.status=a.CANCELED,this.emit("canceled",b),this.options.uploadMultiple&&this.emit("canceledmultiple",[b]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(b){if("function"==typeof b){for(var c=arguments.length,d=new Array(c>1?c-1:0),a=1;a<c;a++)d[a-1]=arguments[a];return b.apply(this,d)}return b}},{key:"uploadFile",value:function(a){return this.uploadFiles([a])}},{key:"uploadFiles",value:function(b){var c=this;this._transformFiles(b,function(f){if(b[0].upload.chunked){var e=b[0],j=f[0],k=0;e.upload.chunks=[];var g=function(){for(var d=0;void 0!==e.upload.chunks[d];)d++;if(!(d>=e.upload.totalChunkCount)){k++;var f=d*c.options.chunkSize,g=Math.min(f+c.options.chunkSize,e.size),h={name:c._getParamName(0),data:j.webkitSlice?j.webkitSlice(f,g):j.slice(f,g),filename:e.upload.filename,chunkIndex:d};e.upload.chunks[d]={file:e,index:d,dataBlock:h,status:a.UPLOADING,progress:0,retries:0},c._uploadData(b,[h])}};if(e.upload.finishedChunkUpload=function(f){var h=!0;f.status=a.SUCCESS,f.dataBlock=null;for(var d=0;d<e.upload.totalChunkCount;d++){if(void 0===e.upload.chunks[d])return g();e.upload.chunks[d].status!==a.SUCCESS&&(h=!1)}h&&c.options.chunksUploaded(e,function(){c._finished(b,"",null)})},c.options.parallelChunkUploads)for(var h=0;h<e.upload.totalChunkCount;h++)g();else g()}else{for(var i=[],d=0;d<b.length;d++)i[d]={name:c._getParamName(d),data:f[d],filename:b[d].upload.filename};c._uploadData(b,i)}})}},{key:"_getChunk",value:function(b,c){for(var a=0;a<b.upload.totalChunkCount;a++)if(void 0!==b.upload.chunks[a]&&b.upload.chunks[a].xhr===c)return b.upload.chunks[a]}},{key:"_uploadData",value:function(c,h){var l,x=this,b=new XMLHttpRequest,f=n(c);try{for(f.s();!(l=f.n()).done;)l.value.xhr=b}catch(r){f.e(r)}finally{f.f()}c[0].upload.chunked&&(c[0].upload.chunks[h[0].chunkIndex].xhr=b);var s=this.resolveOption(this.options.method,c),t=this.resolveOption(this.options.url,c);b.open(s,t,!0),b.timeout=this.resolveOption(this.options.timeout,c),b.withCredentials=!!this.options.withCredentials,b.onload=function(a){x._finishedUploading(c,b,a)},b.onerror=function(){x._handleUploadError(c,b)},(null!=b.upload?b.upload:b).onprogress=function(a){return x._updateFilesUploadProgress(c,b,a)};var i={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var m in this.options.headers&&a.extend(i,this.options.headers),i){var o=i[m];o&&b.setRequestHeader(m,o)}var d=new FormData;if(this.options.params){var e=this.options.params;for(var p in"function"==typeof e&&(e=e.call(this,c,b,c[0].upload.chunked?this._getChunk(c[0],b):null)),e){var u=e[p];d.append(p,u)}}var q,g=n(c);try{for(g.s();!(q=g.n()).done;){var v=q.value;this.emit("sending",v,b,d)}}catch(w){g.e(w)}finally{g.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",c,b,d),this._addFormElementData(d);for(var j=0;j<h.length;j++){var k=h[j];d.append(k.name,k.data,k.filename)}this.submitRequest(b,d,c)}},{key:"_transformFiles",value:function(b,d){for(var e=this,f=[],g=0,c=function(a){e.options.transformFile.call(e,b[a],function(c){f[a]=c,++g===b.length&&d(f)})},a=0;a<b.length;a++)c(a)}},{key:"_addFormElementData",value:function(f){if("FORM"===this.element.tagName){var g,c=n(this.element.querySelectorAll("input, textarea, select, button"));try{for(c.s();!(g=c.n()).done;){var a=g.value,e=a.getAttribute("name"),b=a.getAttribute("type");if(b&&(b=b.toLowerCase()),null!=e){if("SELECT"===a.tagName&&a.hasAttribute("multiple")){var h,d=n(a.options);try{for(d.s();!(h=d.n()).done;){var i=h.value;i.selected&&f.append(e,i.value)}}catch(j){d.e(j)}finally{d.f()}}else(!b||"checkbox"!==b&&"radio"!==b||a.checked)&&f.append(e,a.value)}}}catch(k){c.e(k)}finally{c.f()}}}},{key:"_updateFilesUploadProgress",value:function(d,u,b){var e;if(void 0!==b){if(e=100*b.loaded/b.total,d[0].upload.chunked){var a=d[0],k=this._getChunk(a,u);k.progress=e,k.total=b.total,k.bytesSent=b.loaded,a.upload.progress=0,a.upload.total=0,a.upload.bytesSent=0;for(var c=0;c<a.upload.totalChunkCount;c++)void 0!==a.upload.chunks[c]&& void 0!==a.upload.chunks[c].progress&&(a.upload.progress+=a.upload.chunks[c].progress,a.upload.total+=a.upload.chunks[c].total,a.upload.bytesSent+=a.upload.chunks[c].bytesSent);a.upload.progress=a.upload.progress/a.upload.totalChunkCount}else{var o,g=n(d);try{for(g.s();!(o=g.n()).done;){var l=o.value;l.upload.progress=e,l.upload.total=b.total,l.upload.bytesSent=b.loaded}}catch(v){g.e(v)}finally{g.f()}}var p,h=n(d);try{for(h.s();!(p=h.n()).done;){var m=p.value;this.emit("uploadprogress",m,m.upload.progress,m.upload.bytesSent)}}catch(w){h.e(w)}finally{h.f()}}else{var q=!0;e=100;var r,i=n(d);try{for(i.s();!(r=i.n()).done;){var f=r.value;(100!==f.upload.progress||f.upload.bytesSent!==f.upload.total)&&(q=!1),f.upload.progress=e,f.upload.bytesSent=f.upload.total}}catch(x){i.e(x)}finally{i.f()}if(q)return;var s,j=n(d);try{for(j.s();!(s=j.n()).done;){var t=s.value;this.emit("uploadprogress",t,e,t.upload.bytesSent)}}catch(y){j.e(y)}finally{j.f()}}}},{key:"_finishedUploading",value:function(c,b,e){var d;if(c[0].status!==a.CANCELED&&4===b.readyState){if("arraybuffer"!==b.responseType&&"blob"!==b.responseType&&(d=b.responseText,b.getResponseHeader("content-type")&& ~b.getResponseHeader("content-type").indexOf("application/json")))try{d=JSON.parse(d)}catch(f){e=f,d="Invalid JSON response from server."}this._updateFilesUploadProgress(c),200<=b.status&&b.status<300?c[0].upload.chunked?c[0].upload.finishedChunkUpload(this._getChunk(c[0],b)):this._finished(c,d,e):this._handleUploadError(c,b,d)}}},{key:"_handleUploadError",value:function(b,d,g){if(b[0].status!==a.CANCELED){if(b[0].upload.chunked&&this.options.retryChunks){var e=this._getChunk(b[0],d);if((e.retries++)<this.options.retryChunksLimit){this._uploadData(b,[e.dataBlock]);return}console.warn("Retried this chunk too often. Giving up.")}var f,c=n(b);try{for(c.s();!(f=c.n()).done;)f.value,this._errorProcessing(b,g||this.options.dictResponseError.replace("{{statusCode}}",d.status),d)}catch(h){c.e(h)}finally{c.f()}}}},{key:"submitRequest",value:function(a,b,c){a.send(b)}},{key:"_finished",value:function(c,e,f){var g,b=n(c);try{for(b.s();!(g=b.n()).done;){var d=g.value;d.status=a.SUCCESS,this.emit("success",d,e,f),this.emit("complete",d)}}catch(h){b.e(h)}finally{b.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",c,e,f),this.emit("completemultiple",c)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(c,e,f){var g,b=n(c);try{for(b.s();!(g=b.n()).done;){var d=g.value;d.status=a.ERROR,this.emit("error",d,e,f),this.emit("complete",d)}}catch(h){b.e(h)}finally{b.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",c,e,f),this.emit("completemultiple",c)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=d,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(b,c,a){if(a)return{dzuuid:a.file.upload.uuid,dzchunkindex:a.index,dztotalfilesize:a.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:a.file.upload.totalChunkCount,dzchunkbyteoffset:a.index*this.options.chunkSize}},accept:function(b,a){return a()},chunksUploaded:function(b,a){a()},fallback:function(){this.element.className="".concat(this.element.className," dz-browser-not-supported");var b,f,d=n(this.element.getElementsByTagName("div"));try{for(d.s();!(f=d.n()).done;){var e=f.value;if(/(^| )dz-message($| )/.test(e.className)){b=e,e.className="dz-message";break}}}catch(g){d.e(g)}finally{d.f()}b||(b=a.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(b));var c=b.getElementsByTagName("span")[0];return c&&(null!=c.textContent?c.textContent=this.options.dictFallbackMessage:null!=c.innerText&&(c.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(d,b,c,g){var a={srcX:0,srcY:0,srcWidth:d.width,srcHeight:d.height},e=d.width/d.height;null==b&&null==c?(b=a.srcWidth,c=a.srcHeight):null==b?b=c*e:null==c&&(c=b/e),b=Math.min(b,a.srcWidth),c=Math.min(c,a.srcHeight);var f=b/c;if(a.srcWidth>b||a.srcHeight>c){if("crop"===g)e>f?(a.srcHeight=d.height,a.srcWidth=a.srcHeight*f):(a.srcWidth=d.width,a.srcHeight=a.srcWidth/f);else if("contain"===g)e>f?c=b/e:b=c*e;else throw new Error("Unknown resizeMethod '".concat(g,"'"))}return a.srcX=(d.width-a.srcWidth)/2,a.srcY=(d.height-a.srcHeight)/2,a.trgWidth=b,a.trgHeight=c,a},transformFile:function(a,b){return(this.options.resizeWidth||this.options.resizeHeight)&&a.type.match(/image.*/)?this.resizeImage(a,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,b):b(a)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(a){return this.element.classList.remove("dz-drag-hover")},dragstart:function(a){},dragend:function(a){return this.element.classList.remove("dz-drag-hover")},dragenter:function(a){return this.element.classList.add("dz-drag-hover")},dragover:function(a){return this.element.classList.add("dz-drag-hover")},dragleave:function(a){return this.element.classList.remove("dz-drag-hover")},paste:function(a){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(b){var o=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){b.previewElement=a.createElement(this.options.previewTemplate.trim()),b.previewTemplate=b.previewElement,this.previewsContainer.appendChild(b.previewElement);var f,c=n(b.previewElement.querySelectorAll("[data-dz-name]"));try{for(c.s();!(f=c.n()).done;){var g=f.value;g.textContent=b.name}}catch(j){c.e(j)}finally{c.f()}var h,d=n(b.previewElement.querySelectorAll("[data-dz-size]"));try{for(d.s();!(h=d.n()).done;)(g=h.value).innerHTML=this.filesize(b.size)}catch(k){d.e(k)}finally{d.f()}this.options.addRemoveLinks&&(b._removeLink=a.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),b.previewElement.appendChild(b._removeLink));var i,l=function(c){return(c.preventDefault(),c.stopPropagation(),b.status===a.UPLOADING)?a.confirm(o.options.dictCancelUploadConfirmation,function(){return o.removeFile(b)}):o.options.dictRemoveFileConfirmation?a.confirm(o.options.dictRemoveFileConfirmation,function(){return o.removeFile(b)}):o.removeFile(b)},e=n(b.previewElement.querySelectorAll("[data-dz-remove]"));try{for(e.s();!(i=e.n()).done;)i.value.addEventListener("click",l)}catch(m){e.e(m)}finally{e.f()}}},removedfile:function(a){return null!=a.previewElement&&null!=a.previewElement.parentNode&&a.previewElement.parentNode.removeChild(a.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(a,e){if(a.previewElement){a.previewElement.classList.remove("dz-file-preview");var c,b=n(a.previewElement.querySelectorAll("[data-dz-thumbnail]"));try{for(b.s();!(c=b.n()).done;){var d=c.value;d.alt=a.name,d.src=e}}catch(f){b.e(f)}finally{b.f()}return setTimeout(function(){return a.previewElement.classList.add("dz-image-preview")},1)}},error:function(c,a){if(c.previewElement){c.previewElement.classList.add("dz-error"),"String"!=typeof a&&a.error&&(a=a.error);var d,b=n(c.previewElement.querySelectorAll("[data-dz-errormessage]"));try{for(b.s();!(d=b.n()).done;)d.value.textContent=a}catch(e){b.e(e)}finally{b.f()}}},errormultiple:function(){},processing:function(a){if(a.previewElement&&(a.previewElement.classList.add("dz-processing"),a._removeLink))return a._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(c,d,g){if(c.previewElement){var e,a=n(c.previewElement.querySelectorAll("[data-dz-uploadprogress]"));try{for(a.s();!(e=a.n()).done;){var b=e.value;"PROGRESS"===b.nodeName?b.value=d:b.style.width="".concat(d,"%")}}catch(f){a.e(f)}finally{a.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(a){if(a.previewElement)return a.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(a){return this.emit("error",a,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(a){if(a._removeLink&&(a._removeLink.textContent=this.options.dictRemoveFile),a.previewElement)return a.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(d){for(var b=arguments.length,e=new Array(b>1?b-1:0),a=1;a<b;a++)e[a-1]=arguments[a];for(var c=0,f=e;c<f.length;c++){var g=f[c];for(var h in g){var i=g[h];d[h]=i}}return d}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var a=16*Math.random()|0;return("x"===b?a:3&a|8).toString(16)})}}]),a}(d);a.initClass(),a.version="5.3.0",a.options={},a.optionsForElement=function(b){return b.getAttribute("id")?a.options[r(b.getAttribute("id"))]:void 0},a.instances=[],a.forElement=function(a){if("string"==typeof a&&(a=document.querySelector(a)),(null!=a?a.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return a.dropzone},a.autoDiscover=!0,a.discover=function(){var b;if(document.querySelectorAll)b=document.querySelectorAll(".dropzone");else{b=[];var c=function(a){return function(){var e,d=[],c=n(a);try{for(c.s();!(e=c.n()).done;){var f=e.value;/(^| )dropzone($| )/.test(f.className)?d.push(b.push(f)):d.push(void 0)}}catch(g){c.e(g)}finally{c.f()}return d}()};c(document.getElementsByTagName("div")),c(document.getElementsByTagName("form"))}return function(){var e,d=[],c=n(b);try{for(c.s();!(e=c.n()).done;){var f=e.value;!1!==a.optionsForElement(f)?d.push(new a(f)):d.push(void 0)}}catch(g){c.e(g)}finally{c.f()}return d}()},a.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],a.isBrowserSupported=function(){var b=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if("classList"in document.createElement("a")){var d,c=n(a.blacklistedBrowsers);try{for(c.s();!(d=c.n()).done;)if(d.value.test(navigator.userAgent)){b=!1;continue}}catch(e){c.e(e)}finally{c.f()}}else b=!1}else b=!1;return b},a.dataURItoBlob=function(d){for(var b=atob(d.split(",")[1]),g=d.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(b.length),h=new Uint8Array(e),a=0,c=b.length,f=0<=c;f?a<=c:a>=c;f?a++:a--)h[a]=b.charCodeAt(a);return new Blob([e],{type:g})};var q=function(a,b){return a.filter(function(a){return a!==b}).map(function(a){return a})},r=function(a){return a.replace(/[\-_](\w)/g,function(a){return a.charAt(1).toUpperCase()})};a.createElement=function(b){var a=document.createElement("div");return a.innerHTML=b,a.childNodes[0]},a.elementInside=function(a,b){if(a===b)return!0;for(;a=a.parentNode;)if(a===b)return!0;return!1},a.getElement=function(a,c){var b;if("string"==typeof a?b=document.querySelector(a):null!=a.nodeType&&(b=a),null==b)throw new Error("Invalid `".concat(c,"` option provided. Please provide a CSS selector or a plain HTML element."));return b},a.getElements=function(b,f){var c,a;if(b instanceof Array){a=[];try{var g,d=n(b);try{for(d.s();!(g=d.n()).done;)c=g.value,a.push(this.getElement(c,f))}catch(i){d.e(i)}finally{d.f()}}catch(k){a=null}}else if("string"==typeof b){a=[];var h,e=n(document.querySelectorAll(b));try{for(e.s();!(h=e.n()).done;)c=h.value,a.push(c)}catch(j){e.e(j)}finally{e.f()}}else null!=b.nodeType&&(a=[b]);if(null==a||!a.length)throw new Error("Invalid `".concat(f,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return a},a.confirm=function(b,c,a){return window.confirm(b)?c():null!=a?a():void 0},a.isValidFile=function(d,b){if(!b)return!0;b=b.split(",");var e,f=d.type,g=f.replace(/\/.*$/,""),c=n(b);try{for(c.s();!(e=c.n()).done;){var a=e.value;if(a=a.trim(),"."===a.charAt(0)){if(-1!==d.name.toLowerCase().indexOf(a.toLowerCase(),d.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(g===a.replace(/\/.*$/,""))return!0}else if(f===a)return!0}}catch(h){c.e(h)}finally{c.f()}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(b){return this.each(function(){return new a(this,b)})});let s=a;a.ADDED="added",a.QUEUED="queued",a.ACCEPTED=a.QUEUED,a.UPLOADING="uploading",a.PROCESSING=a.UPLOADING,a.CANCELED="canceled",a.ERROR="error",a.SUCCESS="success";var t=function(c){c.naturalWidth;var b=c.naturalHeight,d=document.createElement("canvas");d.width=1,d.height=b;var f=d.getContext("2d");f.drawImage(c,0,0);for(var i=f.getImageData(1,0,1,b).data,e=0,g=b,a=b;a>e;)0===i[(a-1)*4+3]?g=a:e=a,a=g+e>>1;var h=a/b;return 0===h?1:h},u=function(b,a,c,d,e,f,g,h,i,j){var k=t(a);return b.drawImage(a,c,d,e,f,g,h,i,j/k)},e=function(){function a(){(0,o.Z)(this,a)}return(0,p.Z)(a,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(d){for(var h="",e=void 0,a=void 0,b="",i=void 0,j=void 0,f=void 0,c="",g=0;e=d[g++],a=d[g++],b=d[g++],i=e>>2,j=(3&e)<<4|a>>4,f=(15&a)<<2|b>>6,c=63&b,isNaN(a)?f=c=64:isNaN(b)&&(c=64),h=h+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(j)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(c),e=a=b="",i=j=f=c="",g<d.length;);return h}},{key:"restore",value:function(a,b){if(!a.match("data:image/jpeg;base64,"))return b;var c=this.decode64(a.replace("data:image/jpeg;base64,","")),d=this.slice2Segments(c),e=this.exifManipulation(b,d);return"data:image/jpeg;base64,".concat(this.encode64(e))}},{key:"exifManipulation",value:function(a,b){var c=this.getExifArray(b),d=this.insertExif(a,c);return new Uint8Array(d)}},{key:"getExifArray",value:function(c){for(var a=void 0,b=0;b<c.length;){if(255===(a=c[b])[0]&225===a[1])return a;b++}return[]}},{key:"insertExif",value:function(d,e){var f=d.replace("data:image/jpeg;base64,",""),a=this.decode64(f),b=a.indexOf(255,3),g=a.slice(0,b),h=a.slice(b),c=g;return(c=c.concat(e)).concat(h)}},{key:"slice2Segments",value:function(b){for(var c,a=0,d=[];!(255===b[a]&218===b[a+1]);){if(255===b[a]&216===b[a+1])a+=2;else{c=256*b[a+2]+b[a+3];var e=a+c+2,f=b.slice(a,e);d.push(f),a=e}if(a>b.length)break}return d}},{key:"decode64",value:function(a){var g=void 0,h=void 0,i="",j=void 0,d=void 0,b=void 0,e="",c=0,f=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(a)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j=this.KEY_STR.indexOf(a.charAt(c++)),d=this.KEY_STR.indexOf(a.charAt(c++)),b=this.KEY_STR.indexOf(a.charAt(c++)),e=this.KEY_STR.indexOf(a.charAt(c++)),g=j<<2|d>>4,h=(15&d)<<4|b>>2,i=(3&b)<<6|e,f.push(g),64!==b&&f.push(h),64!==e&&f.push(i),g=h=i="",j=d=b=e="",c<a.length;);return f}}]),a}();function v(a,b){return null!=a?b(a):void 0}function w(a,b,c){return null!=a&&"function"==typeof a[b]?c(a,b):void 0}e.initClass(),a._autoDiscoverFunction=function(){if(a.autoDiscover)return a.discover()},function(b,h){var i=!1,f=!0,a=b.document,g=a.documentElement,c=a.addEventListener?"addEventListener":"attachEvent",j=a.addEventListener?"removeEventListener":"detachEvent",d=a.addEventListener?"":"on",e=function e(c){if(("readystatechange"!==c.type||"complete"===a.readyState)&&(("load"===c.type?b:a)[j](d+c.type,e,!1),!i&&(i=!0)))return h.call(b,c.type||c)};if("complete"!==a.readyState){if(a.createEventObject&&g.doScroll){try{f=!b.frameElement}catch(k){}f&&function a(){try{g.doScroll("left")}catch(b){setTimeout(a,50);return}return e("poll")}()}a[c](d+"DOMContentLoaded",e,!1),a[c](d+"readystatechange",e,!1),b[c](d+"load",e,!1)}}(window,a._autoDiscoverFunction)}}])