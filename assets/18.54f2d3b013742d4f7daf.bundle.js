(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{798:function(e,t,n){"use strict";n.r(t);var r=n(3),blocks=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.BlockManager,a={category:t.categoryLabel};t.resetBlocks&&n.getAll().reset(),n.add("mj-1-column",Object(r.a)({label:"1 Column",content:"<mj-section>\n        <mj-column><mj-text>Content 1</mj-text></mj-column>\n      </mj-section>",attributes:{"class":"gjs-fonts gjs-f-b1"}},a)),n.add("mj-2-columns",Object(r.a)({label:"2 Columns",content:"<mj-section>\n        <mj-column><mj-text>Content 1</mj-text></mj-column>\n        <mj-column><mj-text>Content 2</mj-text></mj-column>\n      </mj-section>",attributes:{"class":"gjs-fonts gjs-f-b2"}},a)),n.add("mj-3-columns",Object(r.a)({label:"3 Columns",content:"<mj-section>\n        <mj-column><mj-text>Content 1</mj-text></mj-column>\n        <mj-column><mj-text>Content 2</mj-text></mj-column>\n        <mj-column><mj-text>Content 3</mj-text></mj-column>\n      </mj-section>",attributes:{"class":"gjs-fonts gjs-f-b3"}},a)),n.add("mj-text",Object(r.a)({label:"Text",content:"<mj-text>Insert text here</mj-text>",attributes:{"class":"gjs-fonts gjs-f-text"}},a)),n.add("mj-button",Object(r.a)({label:"Button",content:"<mj-button>Button</mj-button>",attributes:{"class":"gjs-fonts gjs-f-button"}},a)),n.add("mj-image",Object(r.a)({label:"Image",content:'<mj-image src="http://placehold.it/350x250/78c5d6/fff">',attributes:{"class":"fa fa-image"}},a)),n.add("mj-divider",Object(r.a)({label:"Divider",content:"<mj-divider/>",attributes:{"class":"gjs-fonts gjs-f-divider"}},a)),n.add("mj-social-group",Object(r.a)({label:"Group Social",content:'<mj-social font-size="12px" icon-size="24px" border-radius="12px" mode="horizontal">\n        <mj-social-element name="facebook"></mj-social-element>\n        <mj-social-element name="google"></mj-social-element>\n        <mj-social-element name="twitter"></mj-social-element>\n      </mj-social>',attributes:{"class":"fa fa-share-alt"}},a)),n.add("mj-social-element",Object(r.a)({label:"Social Element",content:'<mj-social-element name="facebook" />',attributes:{"class":"fa fa-share-alt"}},a)),n.add("mj-spacer",Object(r.a)({label:"Spacer",content:"<mj-spacer/>",attributes:{"class":"fa fa-arrows-v"}},a)),n.add("mj-navbar",Object(r.a)({label:"NavBar",content:"<mj-navbar>\n    <mj-navbar-link>Getting started</mj-navbar-link>\n    <mj-navbar-link>Try it live</mj-navbar-link>\n    <mj-navbar-link>Templates</mj-navbar-link>\n    <mj-navbar-link>Components</mj-navbar-link>\n    </mj-navbar>",attributes:{"class":"fa fa-bars"}},a)),n.add("mj-navbar-link",Object(r.a)({label:"NavBar Link",content:"<mj-navbar-link>Link 1</mj-navbar-link>",attributes:{"class":"gjs-fonts gjs-f-button"}},a))},a=n(21),o=n(88),components_mjml=function(e,t){t.dc.addType("mjml",{isComponent:l("mjml"),model:{defaults:{droppable:"[data-gjs-type=mj-head], [data-gjs-type=mj-body]",draggable:!1}}})},Head=function(e,t){var n=t.dc,r=["mj-preview","mj-attributes","mj-style","mj-font","mj-title"].map((function(e){return"[data-gjs-type=".concat(e,"]")})).join(", ");n.addType("mj-head",{isComponent:l("mj-head"),model:{defaults:{droppable:r,draggable:!1}}})},Style=function(e,t){var n=t.dc,a=t.coreMjmlModel,i=t.coreMjmlView,d=t.sandboxEl;n.addType("mj-style",{isComponent:l("mj-style"),model:Object(r.a)(Object(r.a)({},a),{},{defaults:{draggable:"[data-gjs-type=mj-head]"}}),view:Object(r.a)(Object(r.a)({},i),{},{tagName:"style",getMjmlTemplate:function getMjmlTemplate(){return{start:"<mjml><mj-head>",end:"</mj-head></mjml>"}},getTemplateFromEl:function getTemplateFromEl(e){return e.querySelector("style").innerHTML},renderStyle:function renderStyle(){},getTemplateFromMjml:function getTemplateFromMjml(){var e=this.getMjmlTemplate(),t=this.getInnerMjmlTemplate(),n=Object(o.a)("".concat(e.start,"\n          ").concat(t.start).concat(t.end).concat(e.end)).html,r=n.indexOf("<head>")+6,a=n.indexOf("</head>");return n=n.substring(r,a).trim(),d.innerHTML=n,this.getTemplateFromEl(d)}})})},Font=function(e,t){var n=t.dc,a=t.coreMjmlModel,i=t.coreMjmlView,d=t.sandboxEl;n.addType("mj-font",{isComponent:l("mj-font"),model:Object(r.a)(Object(r.a)({},a),{},{defaults:{draggable:"[data-gjs-type=mj-head]","void":!0}}),view:Object(r.a)(Object(r.a)({},i),{},{tagName:"style",getMjmlTemplate:function getMjmlTemplate(){var e=this.model.get("attributes").name;return{start:"<mjml><mj-head>",end:'</mj-head><mj-body><mj-text font-family="'.concat(e,'"></mj-text></mj-body></mjml>')}},getTemplateFromEl:function getTemplateFromEl(e){return e.querySelectorAll("style")[1].innerHTML},renderStyle:function renderStyle(){},renderContent:function renderContent(){},getTemplateFromMjml:function getTemplateFromMjml(){var e=this.getMjmlTemplate(),t=this.getInnerMjmlTemplate(),n=Object(o.a)("".concat(e.start,"\n          ").concat(t.start).concat(t.end).concat(e.end)).html,r=n.indexOf("<head>")+6,a=n.indexOf("</head>");return n=n.substring(r,a).trim(),d.innerHTML=n,this.getTemplateFromEl(d)}})})},Body=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView,i=["mj-section"].map((function(e){return"[data-gjs-type=".concat(e,"]")})).join(", ");n.addType("mj-body",{isComponent:l("mj-body"),model:Object(r.a)(Object(r.a)({},a),{},{defaults:{droppable:i,draggable:!1,copyable:!1,removable:!1,"style-default":{width:"600px"},stylable:["width","background-color"]}}),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"div",attributes:{style:"width: 100%; min-height: 100%","data-type":"mj-body"},getChildrenSelector:function getChildrenSelector(){return"div"},getInnerMjmlTemplate:function getInnerMjmlTemplate(){var e=o.getInnerMjmlTemplate.call(this);return{start:"".concat(e.start,"<mj-section></mj-section>"),end:"".concat(e.end)}},renderStyle:function renderStyle(){this.el.style=this.el.getAttribute("style")+this.attributes.style},renderContent:function renderContent(){this.getChildrenContainer().innerHTML=this.model.get("content")},rerender:function rerender(){o.rerender.call(this),this.model.components().models.forEach((function(e){"mj-section"==e.attributes.type&&e.view.rerender()}))}})})},Wrapper=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView;n.addType("mj-wrapper",{isComponent:l("mj-wrapper"),model:Object(r.a)(Object(r.a)({},a),{},{defaults:{name:"Wrapper",draggable:"[data-gjs-type=mj-body]",droppable:"[data-gjs-type=mj-wrapper]"}}),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"div",attributes:{style:"pointer-events: all; display: table; width: 100%"},getMjmlTemplate:function getMjmlTemplate(){return{start:"<mjml><mj-body>",end:"</mj-body></mjml>"}},getChildrenSelector:function getChildrenSelector(){return"table tr td"}})})},Section=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView;n.addType("mj-section",{isComponent:l("mj-section"),model:Object(r.a)(Object(r.a)({},a),{},{defaults:{name:"Section",draggable:"[data-gjs-type=mj-body]",droppable:"[data-gjs-type=mj-column]","style-default":{"padding-top":"10px","padding-bottom":"10px","vertical-align":"top","text-align":"center"},stylable:["vertical-align","text-align","padding","padding-top","padding-left","padding-right","padding-bottom","background-color","background-url","background-repeat","background-size","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","border","border-width","border-style","border-color"]}}),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"div",attributes:{style:"pointer-events: all;","data-type":"mj-section"},getMjmlTemplate:function getMjmlTemplate(){var e=this.model.parent().view;if(e.getInnerMjmlTemplate){var t=o.getInnerMjmlTemplate.call(e);return{start:"<mjml><mj-body>".concat(t.start),end:"".concat(t.end,"</mj-body></mjml>")}}return{start:"<mjml><mj-body>",end:"</mj-body></mjml>"}},getChildrenSelector:function getChildrenSelector(){return"table > tbody > tr > td"},init:function init(){o.init.call(this),this.listenTo(this.model.get("components"),"add remove",this.render)}})})},Group=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView;n.addType("mj-group",{isComponent:l("mj-group"),model:Object(r.a)(Object(r.a)({},a),{},{defaults:{name:"Group",draggable:"[data-gjs-type=mj-section]",droppable:"[data-gjs-type=mj-column]"}}),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"div",attributes:{style:"pointer-events: all; display: table; width: 100%"},getMjmlTemplate:function getMjmlTemplate(){return{start:"<mjml><mj-body>",end:"</mj-body></mjml>"}}})})},Column=function(e,t){var n=t.dc,a=t.opt,i=t.coreMjmlModel,d=t.coreMjmlView,m=t.sandboxEl,s=a.columnsPadding;n.addType("mj-column",{isComponent:l("mj-column"),model:Object(r.a)(Object(r.a)({},i),{},{defaults:{name:"Column",draggable:"[data-gjs-type=mj-section]",stylable:["background-color","vertical-align","width","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","border","border-width","border-style","border-color"]}}),view:Object(r.a)(Object(r.a)({},d),{},{tagName:"div",attributes:{style:"pointer-events: all;"+(s?"padding: ".concat(s,";"):"")},getTemplateFromMjml:function getTemplateFromMjml(){var e=this.getMjmlTemplate(),t=this.getInnerMjmlTemplate(),n=Object(o.a)("".concat(e.start,"\n          ").concat(t.start).concat(t.end).concat(e.end)).html,r=[];m.innerHTML=n,Array.from(m.querySelectorAll("style")).forEach((function(e){r.push(e.innerHTML)}));var a=n.replace(/<body(.*)>/,"<body>"),l=a.indexOf("<body>")+6,i=a.indexOf("</body>");m.innerHTML=a.substring(l,i).trim();for(var d,s=this.getTemplateFromEl(m),c={},p=s.attributes,u=0,g=p.length;u<g;u++)c[(d=p[u]).name]=d.value;return{attributes:c,content:s.innerHTML,style:r.join(" ")}},render:function render(){this.renderAttributes();var t=this.getTemplateFromMjml();return this.el.innerHTML=t.content,this.$el.attr(t.attributes),e.addComponents("<style>".concat(t.style,"</style>")),this.getChildrenContainer().innerHTML=this.model.get("content"),this.renderChildren(),this.renderStyle(),this},renderStyle:function renderStyle(){this.el.style=this.el.getAttribute("style")+this.attributes.style},getMjmlTemplate:function getMjmlTemplate(){var e=this.model.collection.length-1;e=e||0;var t=Array(e).fill("<mj-column></mj-column>").join("");return{start:"<mjml><mj-body><mj-section>",end:"".concat(t,"</mj-section></mj-body></mjml>")}},getTemplateFromEl:function getTemplateFromEl(e){return e.firstChild.querySelector("div > table > tbody > tr > td > div")},getChildrenSelector:function getChildrenSelector(){return"table"}})})},Text=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView;n.addType("mj-text",{extend:"text",extendFnView:["onActive","disableEditing"],isComponent:function isComponent(e){if(e.tagName==="mj-text".toUpperCase())return{type:"mj-text",content:e.innerHTML,components:[]}},model:Object(r.a)(Object(r.a)({},a),{},{defaults:{name:"Text",draggable:"[data-gjs-type=mj-column]",highlightable:!1,stylable:["height","font-style","font-size","font-weight","font-family","color","line-height","letter-spacing","text-decoration","align","text-transform","padding","padding-top","padding-left","padding-right","padding-bottom","container-background-color"],"style-default":{"padding-top":"10px","padding-bottom":"10px","padding-right":"25px","padding-left":"25px","font-size":"13px","line-height":"22px",align:"left"}}}),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"tr",attributes:{style:"pointer-events: all; display: table; width: 100%"},getMjmlTemplate:function getMjmlTemplate(){return{start:"<mjml><mj-body><mj-column>",end:"</mj-column></mj-body></mjml>"}},getTemplateFromEl:function getTemplateFromEl(e){return e.querySelector("tr").innerHTML},getChildrenSelector:function getChildrenSelector(){return"td > div"},renderChildren:function renderChildren(){o.renderChildren.call(this)},onActive:function onActive(){this.getChildrenContainer().style.pointerEvents="all"},disableEditing:function disableEditing(){this.getChildrenContainer().style.pointerEvents="none"}})})},Button=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView;n.addType("mj-button",{isComponent:l("mj-button"),extend:"link",extendFnView:["onActive","disableEditing"],model:Object(r.a)(Object(r.a)({},a),{},{defaults:{name:"Button",draggable:"[data-gjs-type=mj-column]",highlightable:!1,stylable:["width","height","background-color","container-background-color","font-style","font-size","font-weight","font-family","color","text-decoration","align","vertical-align","text-transform","padding","padding-top","padding-left","padding-right","padding-bottom","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","border","border-width","border-style","border-color"],"style-default":{"background-color":"#414141","border-radius":"3px","font-size":"13px","font-weight":"400",color:"#ffffff","vertical-align":"middle","padding-bottom":"10px","padding-right":"25px","padding-left":"25px",align:"center"},traits:["href"]}}),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"tr",attributes:{style:"pointer-events: all; display: table; width: 100%"},getMjmlTemplate:function getMjmlTemplate(){return{start:"<mjml><mj-body><mj-column>",end:"</mj-column></mj-body></mjml>"}},getTemplateFromEl:function getTemplateFromEl(e){return e.querySelector("tr").innerHTML},getChildrenSelector:function getChildrenSelector(){return"a,p"},renderChildren:function renderChildren(){o.renderChildren.call(this)},onActive:function onActive(){this.getChildrenContainer().style.pointerEvents="all"},disableEditing:function disableEditing(){this.getChildrenContainer().style.pointerEvents="none"}})})},Image=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView;n.addType("mj-image",{isComponent:l("mj-image"),extend:"image",model:Object(r.a)(Object(r.a)({},a),{},{defaults:{name:"Image",resizable:!1,highlightable:!1,draggable:"[data-gjs-type=mj-column],[data-gjs-type=mj-section]",stylable:["width","height","padding","padding-top","padding-left","padding-right","padding-bottom","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","border","border-width","border-style","border-color","container-background-color","align"],"style-default":{"padding-top":"10px","padding-bottom":"10px","padding-right":"25px","padding-left":"25px",align:"center"},traits:["href","rel","alt","title"],"void":!0}}),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"tr",attributes:{style:"pointer-events: all; display: table; width: 100%; user-select: none;"},getMjmlTemplate:function getMjmlTemplate(){return{start:"<mjml><mj-body><mj-column>",end:"</mj-column></mj-body></mjml>"}},getTemplateFromEl:function getTemplateFromEl(e){return e.querySelector("tr").innerHTML},getChildrenSelector:function getChildrenSelector(){return"img"}})})},Social=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView;n.addType("mj-social",{isComponent:l("mj-social"),model:Object(r.a)(Object(r.a)({},a),{},{defaults:{name:"Social",draggable:"[data-gjs-type=mj-column]",droppable:"[data-gjs-type=mj-social-element]",stylable:["icon-size","text-decoration","align","font-family","font-size","line-height","padding","padding-top","padding-left","padding-right","padding-bottom","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","container-background-color","color"],"style-default":{align:"center","icon-size":"20px","font-size":"13px","line-height":"22px"},traits:[{type:"select",label:"Mode",name:"mode",options:[{value:"horizontal",name:"Horizontal"},{value:"vertical",name:"Vertical"}]}]}}),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"tr",attributes:{style:"pointer-events: all; display: table; width: 100%"},getMjmlTemplate:function getMjmlTemplate(){return{start:"<mjml><mj-body><mj-column>",end:"</mj-column></mj-body></mjml>"}},getTemplateFromEl:function getTemplateFromEl(e){return e.querySelector("tr").innerHTML},getChildrenSelector:function getChildrenSelector(){return"td"},rerender:function rerender(){o.rerender.call(this),this.model.components().models.forEach((function(e){"mj-social-element"==e.attributes.type&&e.view.rerender()}))},init:function init(){o.init.call(this),this.listenTo(this.model.get("components"),"add remove",this.render)}})})},SocialElement=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView,i="mj-social-element";n.addType(i,{isComponent:l(i),model:Object(r.a)(Object(r.a)({},a),{},JSON.parse('{"defaults":{"name":"SocialElement","draggable":"[data-gjs-type=mj-social]","stylable":["text-decoration","align","font-family","font-size","line-height","padding","padding-top","padding-left","padding-right","padding-bottom","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","background-color","color"],"style-default":{"align":"center","icon-size":"20px","font-size":"13px","line-height":"22px"},"traits":[{"type":"select","label":"Icon","name":"name","options":[{"value":"","name":"Custom"},{"value":"facebook","name":"Facebook"},{"value":"twitter","name":"Twitter"},{"value":"google","name":"Google"},{"value":"instagram","name":"Instagram"},{"value":"web","name":"Web"},{"value":"youtube","name":"Youtube"},{"value":"pinterest","name":"Pinterest"},{"value":"linkedin","name":"Linkedin"},{"value":"snapchat","name":"Snapchat"},{"value":"vimeo","name":"Vimeo"},{"value":"tumblr","name":"Tumblr"},{"value":"github","name":"Github"},{"value":"soundcloud","name":"SoundCloud"},{"value":"medium","name":"Medium"},{"value":"dribbble","name":"Dribbble"},{"value":"xing","name":"Xing"}]},{"name":"src"},{"name":"href"}]}}')),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"table",attributes:{style:"pointer-events: all; float: none; display: inline-table;"},getMjmlTemplate:function getMjmlTemplate(){var e=this.model.parent().view;if(e.getInnerMjmlTemplate){var t=o.getInnerMjmlTemplate.call(e);return{start:"<mjml><mj-body><mj-column>".concat(t.start),end:"".concat(t.end,"</mj-column></mj-body></mjml>")}}return{start:"<mjml><mj-body><mj-column><mj-social>",end:"</mj-social></mj-column></mj-body></mjml"}},getTemplateFromEl:function getTemplateFromEl(e){return e.querySelector("tr > td > table").innerHTML},getChildrenSelector:function getChildrenSelector(){return"img"}})})},Divider=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView;n.addType("mj-divider",{isComponent:l("mj-divider"),model:Object(r.a)(Object(r.a)({},a),{},{defaults:{name:"Divider",draggable:"[data-gjs-type=mj-column]",droppable:!1,"style-default":{width:"100%","border-width":"4px","border-style":"solid","border-color":"#000000","padding-top":"10px","padding-bottom":"10px","padding-right":"25px","padding-left":"25px"},stylable:["padding","padding-top","padding-left","padding-right","padding-bottom","width","container-background-color","border-detached","border-width","border-style","border-color"]}}),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"tr",attributes:{style:"pointer-events: all; display: table; width: 100%; user-select: none;"},getMjmlTemplate:function getMjmlTemplate(){return{start:"<mjml><mj-body><mj-column>",end:"</mj-column></mj-body></mjml>"}},getTemplateFromEl:function getTemplateFromEl(e){return e.querySelector("tr").innerHTML},getChildrenSelector:function getChildrenSelector(){return"p"}})})},Spacer=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView;n.addType("mj-spacer",{isComponent:l("mj-spacer"),model:Object(r.a)(Object(r.a)({},a),{},{defaults:{name:"Spacer",draggable:"[data-gjs-type=mj-column]",droppable:!1,"style-default":{height:"20px"},stylable:["height","container-background-color"],"void":!0}}),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"tr",attributes:{style:"pointer-events: all; display: table; width: 100%;user-select: none;"},getMjmlTemplate:function getMjmlTemplate(){return{start:"<mjml><mj-body><mj-column>",end:"</mj-column></mj-body></mjml"}},getTemplateFromEl:function getTemplateFromEl(e){return e.querySelector("tr").innerHTML},getChildrenSelector:function getChildrenSelector(){return"td"},renderChildren:function renderChildren(){o.renderChildren.call(this)}})})},NavBar=function(e,t){var n=t.dc,a=t.coreMjmlModel,i=t.coreMjmlView,d=t.sandboxEl;n.addType("mj-navbar",{isComponent:l("mj-navbar"),model:Object(r.a)(Object(r.a)({},a),{},{defaults:{name:"NavBar",draggable:"[data-gjs-type=mj-column]",droppable:"[data-gjs-type=mj-navbar-link]","style-default":{},stylable:[],traits:[{type:"select",label:"Hamburger",name:"hamburger",options:[{value:"hamburger",name:"ON"},{value:"",name:"OFF"}]}]}}),view:Object(r.a)(Object(r.a)({},i),{},{tagName:"tr",attributes:{style:"pointer-events: all; display: table; width: 100%"},init:function init(){i.init.call(this),this.listenTo(this.model.get("components"),"add remove",this.render)},getTemplateFromMjml:function getTemplateFromMjml(){var e=this.getMjmlTemplate(),t=this.getInnerMjmlTemplate(),n=Object(o.a)("".concat(e.start,"\n          ").concat(t.start).concat(t.end).concat(e.end)).html,r=[];d.innerHTML=n,Array.from(d.querySelectorAll("style")).forEach((function(e){r.push(e.innerHTML)}));var a=n.replace(/<body(.*)>/,"<body>"),l=a.indexOf("<body>")+6,i=a.indexOf("</body>");d.innerHTML=a.substring(l,i).trim();for(var m,s=this.getTemplateFromEl(d),c={},p=s.attributes,u=0,g=p.length;u<g;u++)c[(m=p[u]).name]=m.value;return{attributes:c,content:s.innerHTML,style:r.join(" ")}},render:function render(){this.renderAttributes();var t=this.getTemplateFromMjml();return this.el.innerHTML=t.content,this.$el.attr(t.attributes),e.addComponents("<style>".concat(t.style,"</style>")),this.getChildrenContainer().innerHTML=this.model.get("content"),this.renderChildren(),this.renderStyle(),this},getMjmlTemplate:function getMjmlTemplate(){return{start:"<mjml><mj-body><mj-column>",end:"</mj-column></mj-body></mjml>"}},getTemplateFromEl:function getTemplateFromEl(e){return e.firstChild.querySelector("tr")},getChildrenSelector:function getChildrenSelector(){return"div.mj-inline-links"},rerender:function rerender(){i.rerender.call(this),this.model.components().models.forEach((function(e){"mj-navbar-link"==e.attributes.type&&e.view.rerender()}))}})})},NavBarLink=function(e,t){var n=t.dc,a=t.coreMjmlModel,o=t.coreMjmlView,i="mj-navbar-link";n.addType(i,{isComponent:l(i),extend:"link",extendFnView:["onActive","disableEditing"],model:Object(r.a)(Object(r.a)({},a),{},{defaults:{name:"NavBarLink",draggable:"[data-gjs-type=mj-navbar]",highlightable:!1,stylable:["font-style","font-size","font-weight","font-family","color","text-decoration","text-transform","padding","padding-top","padding-left","padding-right","padding-bottom"],"style-default":{"font-size":"13px","padding-top":"25px","padding-bottom":"25px","padding-left":"10px","padding-right":"10px","text-transform":"uppercase"},traits:["href"]}}),view:Object(r.a)(Object(r.a)({},o),{},{tagName:"a",attributes:{style:"pointer-events: all; float: none; display: inline-table;"},getMjmlTemplate:function getMjmlTemplate(){var e=this.model.parent().view;if(e.getInnerMjmlTemplate){var t=o.getInnerMjmlTemplate.call(e);return{start:"<mjml><mj-body><mj-column>".concat(t.start),end:"".concat(t.end,"</mj-column></mj-body></mjml>")}}return{start:"<mjml><mj-body><mj-column><mj-navbar>",end:"</mj-navbar></mj-column></mj-body></mjml"}},getTemplateFromEl:function getTemplateFromEl(e){return e.querySelector("div").innerHTML},getChildrenSelector:function getChildrenSelector(){return"a,p"},renderChildren:function renderChildren(){o.renderChildren.call(this)},onActive:function onActive(){this.getChildrenContainer().style.pointerEvents="all"},disableEditing:function disableEditing(){this.getChildrenContainer().style.pointerEvents="none"}})})},l=function isComponentType(e){return function(t){return t.tagName===e.toUpperCase()}},components=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.DomComponents,l=n.getType("default"),i=n.getType("text"),d=n.getType("image"),m=n.getType("link"),s=l.model,c=l.view,p=i.model,u=i.view,g=d.model,b=d.view,j=m.model,f=m.view,h=n,y=n.ComponentsView,v=document.createElement("div"),M={init:function init(){var e=Object(r.a)({},this.get("attributes")),t=Object(r.a)({},this.get("style"));for(var n in t)n in e||(e[n]=t[n]);this.set("attributes",e),this.set("style",e),this.listenTo(this,"change:style",this.handleStyleChange)},handleStyleChange:function handleStyleChange(){var e=Object(r.a)(Object(r.a)({},this.get("attributes")),this.get("style"));this.set("attributes",e)},getMjmlAttributes:function getMjmlAttributes(){var e=this.get("attributes")||{};delete e.style;var t=this.get("src");return t&&(e.src=t),e},getAttrToHTML:function getAttrToHTML(){var e=Object(r.a)({},this.get("attributes")),t=Object(r.a)({},this.get("style-default"));for(var n in delete e.style,e){var a=e[n];a&&a===t[n]&&delete e[n]}return e},toHTML:function toHTML(){var e="",t=this.get("tagName"),n=this.get("void"),r="",o=this.getAttrToHTML();for(var l in o){var i=o[l];r+=Object(a.a)(i)!==undefined&&""!==i?" "+l+'="'+i+'"':""}return e+="<".concat(t).concat(r).concat(n?"/":"",">")+this.get("content"),this.get("components").each((function(t){e+=t.toHTML()})),n||(e+="</".concat(t,">")),e}},T={init:function init(){this.stopListening(this.model,"change:style"),this.listenTo(this.model,"change:attributes change:src",this.rerender)},rerender:function rerender(){this.render(null,null,{},1)},getMjmlTemplate:function getMjmlTemplate(){return{start:"<mjml>",end:"</mjml>"}},getInnerMjmlTemplate:function getInnerMjmlTemplate(){var e=this.model,t=e.get("tagName"),n=e.getMjmlAttributes(),r="";for(var o in n){var l=n[o];r+=Object(a.a)(l)!==undefined&&""!==l?" "+o+'="'+l+'"':""}return{start:"<".concat(t).concat(r,">"),end:"</".concat(t,">")}},getTemplateFromEl:function getTemplateFromEl(e){return e&&e.firstChild&&e.firstChild.innerHTML},getTemplateFromMjml:function getTemplateFromMjml(){var e=this.getMjmlTemplate(),t=this.getInnerMjmlTemplate(),n=e.start+t.start+t.end+e.end,r=Object(o.a)(n).html,a=(r=r.replace(/<body(.*)>/,"<body>")).indexOf("<body>")+6,l=r.indexOf("</body>");return r=r.substring(a,l).trim(),v.innerHTML=r,this.getTemplateFromEl(v)},renderChildren:function renderChildren(e){var t=this.getChildrenContainer();e?this.componentsView.parentEl=t:(this.componentsView=new y({collection:this.model.get("components"),config:this.config,defaultTypes:this.opts.defaultTypes,componentTypes:this.opts.componentTypes}),this.childNodes=this.componentsView.render(t).el.childNodes);for(var n=Array.prototype.slice.call(this.childNodes),r=0,a=n.length;r<a;r++)t.appendChild(n.shift());t!==this.el&&function disableNode(e){Array.prototype.slice.call(e.children).forEach((function(e){e.style["pointer-events"]="none",t!==e&&disableNode(e)}))}(this.el)},renderStyle:function renderStyle(){this.el.style=this.attributes.style},renderContent:function renderContent(){var e=this.model.get("content");e&&(this.getChildrenContainer().innerHTML=e)},render:function render(e,t,n,r){return this.renderAttributes(),this.el.innerHTML=this.getTemplateFromMjml(),this.renderContent(),this.renderChildren(r),this.childNodes=this.getChildrenContainer().childNodes,this.renderStyle(),this}},C={dc:h,coreMjmlModel:M,coreMjmlView:T,opt:t,sandboxEl:v,defaultModel:s,defaultView:c,textModel:p,textView:u,linkModel:j,linkView:f,imageModel:g,imageView:b};components_mjml(0,C),Head(0,C),Style(0,C),Font(0,C),Body(0,C),Wrapper(0,C),Section(0,C),Group(0,C),Column(e,C),Button(0,C),Text(0,C),Image(0,C),Social(0,C),SocialElement(0,C),Divider(0,C),Spacer(0,C),NavBar(e,C),NavBarLink(0,C)},toggleImagesCommand=function(){var e=function toggleImages(e,t){e.each((function(e){if("image"===e.get("type")){var n=e.get("src");t?"##"===n&&e.set("src",e.get("src_bkp")):"##"!==n&&(e.set("src_bkp",e.get("src")),e.set("src","##"))}toggleImages(e.get("components"),t)}))};return{run:function run(t){var n=t.getComponents();e(n)},stop:function stop(t){var n=t.getComponents();e(n,1)}}},command_import_mjml=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.getConfig(),r=e.CodeManager.getViewer("CodeMirror").clone(),a=document.createElement("button"),o=document.createElement("div"),l=n.stylePrefix||"";return a.innerHTML=t.modalBtnImport,a.className="".concat(l,"btn-prim ").concat(l,"btn-import"),a.onclick=function(){var t=r.editor.getValue();e.DomComponents.getWrapper().set("content",""),e.setComponents(t.trim()),e.Modal.close()},r.set({codeName:"htmlmixed",theme:t.codeViewerTheme,readOnly:0}),{run:function run(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=e.Modal,d=r.editor;if(i.setTitle(t.modalTitleImport),!d){var m=document.createElement("textarea"),s=t.modalLabelImport;if(s){var c=document.createElement("div");c.className=l+"import-label",c.innerHTML=s,o.appendChild(c)}o.appendChild(m),o.appendChild(a),r.init(m),d=r.editor}i.setContent(""),i.setContent(o),r.setContent(t.importPlaceholder),i.open(),d.refresh(),n.set&&n.set("active",0)}}},command_export_mjml=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.getConfig(),r=e.CodeManager.getViewer("CodeMirror").clone(),a=document.createElement("div"),l=e.Commands;a.style="display: flex; justify-content: space-between;",r.set({codeName:"htmlmixed",theme:t.codeViewerTheme});var i,d,m=function getMjml(){var n=t.preMjml+e.getHtml()+t.postMjml;return Object(o.a)(n)};return l.add("mjml-get-code",{run:function run(){return m()}}),{buildEditor:function buildEditor(r){var a=e.CodeManager,o=a.getViewer("CodeMirror").clone(),l=document.createElement("textarea"),i=document.createElement("div");i.style="flex:1 0 auto; padding:5px; max-width:50%; box-sizing:border-box;";var d=o.set({label:r,codeName:"htmlmixed",theme:t.codeViewerTheme,input:l}),m=new a.EditorView({model:d,config:n}).render().el;return i.appendChild(m),d.init(l),{codeEditor:d,el:i}},run:function run(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=e.Modal;if(r.setTitle(t.modalTitleExport),r.setContent(""),r.setContent(a),!i){var o=this.buildEditor("MJML");i=o.codeEditor,a.appendChild(o.el)}if(!d){var l=this.buildEditor("HTML");d=l.codeEditor,a.appendChild(l.el)}if(r.open(),i&&(i.setContent(t.preMjml+e.getHtml()+t.postMjml),i.editor.refresh()),d){var s=m();s.errors.length&&s.errors.forEach((function(e){console.warn(e.formattedMessage)})),d.setContent(s.html),d.editor.refresh()}n.set&&n.set("active",0)}}},commands=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.Commands,r=t.overwriteExport?"export-template":"mjml-export";n.add("mjml-import",command_import_mjml(e,t)),n.add(r,command_export_mjml(e,t)),n.add(t.cmdTglImages,toggleImagesCommand()),n.add("undo",{run:function run(e,t){t.set("active",0),e.UndoManager.undo(1)}}),n.add("redo",{run:function run(e,t){t.set("active",0),e.UndoManager.redo(1)}}),n.add("set-device-desktop",{run:function run(e){e.setDevice("Desktop")}}),n.add("set-device-tablet",{run:function run(e){e.setDevice("Tablet")}}),n.add("set-device-mobile",{run:function run(e){e.setDevice("Mobile portrait")}})},i=n(2),buttons=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n="title",r="data-tooltip-pos",a=e.Panels,o=a.getPanel("options"),l=a.getPanel("options"),d=function updateTooltip(e){e.each((function(e){var t=e.get("attributes");t[r]="bottom",e.set("attributes",t)}))};if(a.addButton("options",{id:"mjml-import",className:"fa fa-download",command:"mjml-import"}),o){var m=o.get("buttons");m.each((function(e){var t=e.get("attributes");t[r]="bottom",e.set("attributes",t)}));var s=a.addButton("options","preview");s&&m.remove(s)}if(l){var c=l.get("buttons");c.add([{id:"undo",className:"fa fa-undo",command:"undo",attributes:Object(i.a)({},n,t.cmdBtnUndoLabel)},{id:"redo",className:"fa fa-repeat",command:"redo",attributes:Object(i.a)({},n,t.cmdBtnRedoLabel)}]),d(c)}e.getConfig().showDevices=0;var p=a.addPanel({id:"devices-c"}),u=p.get("buttons");p.get("buttons").add([{id:"deviceDesktop",command:"set-device-desktop",className:"fa fa-desktop"},{id:"deviceTablet",command:"set-device-tablet",className:"fa fa-tablet"},{id:"deviceMobile",command:"set-device-mobile",className:"fa fa-mobile"}]),d(u)},grapesjs_mjml_style=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(t.resetStyleManager){var n=e.StyleManager.getSectors();e.on("load",(function(){n.reset(),n.add(JSON.parse('[{"name":"Dimension","open":false,"buildProps":["width","height","max-width","min-height","margin","padding"],"properties":[{"property":"margin","properties":[{"name":"Top","property":"margin-top"},{"name":"Right","property":"margin-right"},{"name":"Bottom","property":"margin-bottom"},{"name":"Left","property":"margin-left"}]},{"property":"padding","detached":true,"properties":[{"name":"Top","property":"padding-top"},{"name":"Right","property":"padding-right"},{"name":"Bottom","property":"padding-bottom"},{"name":"Left","property":"padding-left"}]},{"property":"icon-size","type":"integer","defaults":"20px","units":["px","%"]}]},{"name":"Typography","open":false,"buildProps":["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","align","text-decoration"],"properties":[{"name":"Font","property":"font-family"},{"name":"Weight","property":"font-weight"},{"name":"Font color","property":"color"},{"property":"text-align","type":"radio","defaults":"left","list":[{"value":"left","name":"Left","className":"fa fa-align-left"},{"value":"center","name":"Center","className":"fa fa-align-center"},{"value":"right","name":"Right","className":"fa fa-align-right"},{"value":"justify","name":"Justify","className":"fa fa-align-justify"}]},{"property":"align","type":"radio","defaults":"left","list":[{"value":"left","name":"Left","className":"fa fa-align-left"},{"value":"center","name":"Center","className":"fa fa-align-center"},{"value":"right","name":"Right","className":"fa fa-align-right"},{"value":"justify","name":"Justify","className":"fa fa-align-justify"}]},{"property":"text-decoration","type":"radio","defaults":"none","list":[{"value":"none","name":"None","className":"fa fa-times"},{"value":"underline","name":"underline","className":"fa fa-underline"},{"value":"line-through","name":"Line-through","className":"fa fa-strikethrough"}]}]},{"name":"Decorations","open":false,"buildProps":["background-color","container-background-color","background-url","background-repeat","background-size","border-radius","border"],"properties":[{"name":"Background color","property":"container-background-color","type":"color"},{"property":"background-url","type":"file"},{"property":"border-radius","properties":[{"name":"Top","property":"border-top-left-radius"},{"name":"Right","property":"border-top-right-radius"},{"name":"Bottom","property":"border-bottom-left-radius"},{"name":"Left","property":"border-bottom-right-radius"}]},{"property":"border-detached","name":"Border detached","type":"composite","detached":true,"properties":[{"name":"Width","property":"border-width","type":"integer"},{"name":"Style","property":"border-style","type":"select","list":[{"value":"none"},{"value":"solid"},{"value":"dotted"},{"value":"dashed"},{"value":"double"},{"value":"groove"},{"value":"ridge"},{"value":"inset"},{"value":"outset"}]},{"name":"Color","property":"border-color","type":"color"}]}]}]'))}))}};t["default"]=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.getConfig(),a=Object(r.a)({editor:e,cmdBtnMoveLabel:"Move",cmdBtnUndoLabel:"Undo",cmdBtnRedoLabel:"Redo",cmdBtnDesktopLabel:"Desktop",cmdBtnTabletLabel:"Tablet",cmdBtnMobileLabel:"Mobile",expTplBtnTitle:"View Code",fullScrBtnTitle:"FullScreen",swichtVwBtnTitle:"View Components",defaultTemplate:"",categoryLabel:"",codeViewerTheme:"hopscotch",importPlaceholder:"",modalTitleImport:"Import MJML",modalBtnImport:"Import",modalLabelImport:"",modalTitleExport:"Export MJML",modalLabelExport:"",overwriteExport:1,preMjml:"",postMjml:"",exportOnly:"",resetBlocks:1,resetStyleManager:1,columnsPadding:"10px 0"},t);if(n.devicePreviewMode=1,n.forceClass=0,n.devicePreviewMode=1,n.avoidInlineStyle=0,[blocks,components,commands,buttons,grapesjs_mjml_style].forEach((function(t){return t(e,a)})),a.resetDevices){var o=e.DeviceManager;o.getAll().reset(),o.add("Desktop",""),o.add("Mobile","320px"),o.add("Tablet","820px")}}}}]);