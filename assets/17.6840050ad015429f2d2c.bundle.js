(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{630:function(e,n,r){"use strict";r.r(n);var t={};r.r(t),r.d(t,"components",(function(){return P})),r.d(t,"dijkstra",(function(){return S})),r.d(t,"dijkstraAll",(function(){return A})),r.d(t,"findCycles",(function(){return B})),r.d(t,"floydWarshall",(function(){return Y})),r.d(t,"isAcyclic",(function(){return W})),r.d(t,"postorder",(function(){return q})),r.d(t,"preorder",(function(){return H})),r.d(t,"prim",(function(){return U})),r.d(t,"tarjan",(function(){return F})),r.d(t,"topsort",(function(){return V}));var o={};r.r(o),r.d(o,"Graph",(function(){return X})),r.d(o,"alg",(function(){return t}));var i=r(3),a=r(47),u=r(5),s=r(147),d=r.n(s),c=r(21),f=r(10),h=r(18),p=Object.keys,g=Array.isArray,l=function isNotEmptyArray(e){return g(e)&&e.length},v=function isEmpty(e){return!e||function isEmptyArray(e){return g(e)&&!e.length}(e)||function isEmptyObj(e){return!e||!p(e).length}(e)},m=function range(e){return Object(a.a)(Array(e).keys())},y=function flattenDownDepth(e,n,r){r--;for(var t=0,o=e.length;t<o;t++){var i=e[t];i&&(r>-1&&l(i)?flattenDownDepth(i,n,r):n.push(i))}return n},E=function minBy(e,n){var r={},t=p(e);t.forEach((function(t){var o=n(e[t],t);isNaN(o)||(r[t]=o)}));var o=I(x(r)),i=null;return t.some((function(n){return o===r[n]&&(i=e[n],!0)})),i},w=function find(e,n){var r;return p(e).some((function(t){return!!n(e[t],t)&&(r=e[t],!0)})),r},b=function pick(e,n){var r={},t=p(e);return t&&t.length?(n.forEach((function(n){L(e,n)&&(r[n]=e[n])})),r):r},_=0,k=function uniqueId(e){var n=e+"_"+_;return _++,n},N=function now(){return Object(h.b)().Date.now()},x=function values(e){return e&&p(e).map((function(n){return e[n]}))},O=function max(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return l(e)?Math.max.apply(Math,Object(a.a)(e)):Math.max.apply(Math,[e].concat(r))},I=function min(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return l(e)?Math.min.apply(Math,Object(a.a)(e)):Math.min.apply(Math,[e].concat(r))},L=function has(e,n){return e&&e.hasOwnProperty(n)},C=function isFunction(e){return f.FUNCTION===Object(c.a)(e)},j=function isUndefined(e){return f.UNDEFINED===Object(c.a)(e)},G=function constant(e){return function(){return e}},T=Object.keys,M=Graph;function Graph(e){this._isDirected=!L(e,"directed")||e.directed,this._isMultigraph=!!L(e,"multigraph")&&e.multigraph,this._isCompound=!!L(e,"compound")&&e.compound,this._label=undefined,this._defaultNodeLabelFn=G(undefined),this._defaultEdgeLabelFn=G(undefined),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function incrementOrInitEntry(e,n){e[n]?e[n]++:e[n]=1}function decrementOrRemoveEntry(e,n){--e[n]||delete e[n]}function edgeArgsToId(e,n,r,t){var o=""+n,i=""+r;if(!e&&o>i){var a=o;o=i,i=a}return o+""+i+""+(j(t)?"\0":t)}function edgeArgsToObj(e,n,r,t){var o=""+n,i=""+r;if(!e&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return t&&(u.name=t),u}function edgeObjToId(e,n){return edgeArgsToId(e,n.v,n.w,n.name)}Graph.prototype._nodeCount=0,Graph.prototype._edgeCount=0,Graph.prototype.isDirected=function(){return this._isDirected},Graph.prototype.isMultigraph=function(){return this._isMultigraph},Graph.prototype.isCompound=function(){return this._isCompound},Graph.prototype.setGraph=function(e){return this._label=e,this},Graph.prototype.graph=function(){return this._label},Graph.prototype.setDefaultNodeLabel=function(e){return C(e)||(e=G(e)),this._defaultNodeLabelFn=e,this},Graph.prototype.nodeCount=function(){return this._nodeCount},Graph.prototype.nodes=function(){return T(this._nodes)},Graph.prototype.sources=function(){var e=this;return this.nodes().filter((function(n){return v(e._in[n])}))},Graph.prototype.sinks=function(){var e=this;return this.nodes().filter((function(n){return v(e._out[n])}))},Graph.prototype.setNodes=function(e,n){var r=arguments,t=this;return e.forEach((function(e){r.length>1?t.setNode(e,n):t.setNode(e)})),this},Graph.prototype.setNode=function(e,n){return L(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},Graph.prototype.node=function(e){return this._nodes[e]},Graph.prototype.hasNode=function(e){return L(this._nodes,e)},Graph.prototype.removeNode=function(e){var n=this;if(L(this._nodes,e)){var r=function removeEdge(e){n.removeEdge(n._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach((function(e){n.setParent(e)})),delete this._children[e]),T(this._in[e]).forEach(r),delete this._in[e],delete this._preds[e],T(this._out[e]).forEach(r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},Graph.prototype.setParent=function(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(j(n))n="\0";else{for(var r=n+="";!j(r);r=this.parent(r))if(r===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this},Graph.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},Graph.prototype.parent=function(e){if(this._isCompound){var n=this._parent[e];if("\0"!==n)return n}},Graph.prototype.children=function(e){if(j(e)&&(e="\0"),this._isCompound){var n=this._children[e];if(n)return T(n)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}},Graph.prototype.predecessors=function(e){var n=this._preds[e];if(n)return T(n)},Graph.prototype.successors=function(e){var n=this._sucs[e];if(n)return T(n)},Graph.prototype.neighbors=function(e){var n=this.predecessors(e);if(n)return function union(){for(var e=[],n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return r.forEach((function(n){e=[].concat(Object(a.a)(e),Object(a.a)(n))})),d()(e)}(n,this.successors(e))},Graph.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},Graph.prototype.filterNodes=function(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;this._nodes.forEach((function(r,t){e(t)&&n.setNode(t,r)})),this._edgeObjs.forEach((function(e){n.hasNode(e.v)&&n.hasNode(e.w)&&n.setEdge(e,r.edge(e))}));var t={};return this._isCompound&&n.nodes().forEach((function(e){n.setParent(e,function findParent(e){var o=r.parent(e);return o===undefined||n.hasNode(o)?(t[e]=o,o):o in t?t[o]:findParent(o)}(e))})),n},Graph.prototype.setDefaultEdgeLabel=function(e){return C(e)||(e=G(e)),this._defaultEdgeLabelFn=e,this},Graph.prototype.edgeCount=function(){return this._edgeCount},Graph.prototype.edges=function(){return x(this._edgeObjs)},Graph.prototype.setPath=function(e,n){var r=this,t=arguments;return e.reduce((function(e,o){return t.length>1?r.setEdge(e,o,n):r.setEdge(e,o),o})),this},Graph.prototype.setEdge=function(){var e,n,r,t,o=!1,i=arguments[0];"object"===Object(c.a)(i)&&null!==i&&"v"in i?(e=i.v,n=i.w,r=i.name,2===arguments.length&&(t=arguments[1],o=!0)):(e=i,n=arguments[1],r=arguments[3],arguments.length>2&&(t=arguments[2],o=!0)),e=""+e,n=""+n,j(r)||(r=""+r);var a=edgeArgsToId(this._isDirected,e,n,r);if(L(this._edgeLabels,a))return o&&(this._edgeLabels[a]=t),this;if(!j(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[a]=o?t:this._defaultEdgeLabelFn(e,n,r);var u=edgeArgsToObj(this._isDirected,e,n,r);return e=u.v,n=u.w,Object.freeze(u),this._edgeObjs[a]=u,incrementOrInitEntry(this._preds[n],e),incrementOrInitEntry(this._sucs[e],n),this._in[n][a]=u,this._out[e][a]=u,this._edgeCount++,this},Graph.prototype.edge=function(e,n,r){var t=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,e,n,r);return this._edgeLabels[t]},Graph.prototype.hasEdge=function(e,n,r){var t=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,e,n,r);return L(this._edgeLabels,t)},Graph.prototype.removeEdge=function(e,n,r){var t=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,e,n,r),o=this._edgeObjs[t];return o&&(e=o.v,n=o.w,delete this._edgeLabels[t],delete this._edgeObjs[t],decrementOrRemoveEntry(this._preds[n],e),decrementOrRemoveEntry(this._sucs[e],n),delete this._in[n][t],delete this._out[e][t],this._edgeCount--),this},Graph.prototype.inEdges=function(e,n){var r=this._in[e];if(r){var t=x(r);return n?t.filter((function(e){return e.v===n})):t}},Graph.prototype.outEdges=function(e,n){var r=this._out[e];if(r){var t=x(r);return n?t.filter((function(e){return e.w===n})):t}},Graph.prototype.nodeEdges=function(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))};var P=function components_components(e){var n,r={},t=[];function dfs(t){L(r,t)||(r[t]=!0,n.push(t),e.successors(t).forEach(dfs),e.predecessors(t).forEach(dfs))}return e.nodes().forEach((function(e){n=[],dfs(e),n.length&&t.push(n)})),t},R=PriorityQueue;function PriorityQueue(){this._arr=[],this._keyIndices={}}PriorityQueue.prototype.size=function(){return this._arr.length},PriorityQueue.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},PriorityQueue.prototype.has=function(e){return L(this._keyIndices,e)},PriorityQueue.prototype.priority=function(e){var n=this._keyIndices[e];if(n!==undefined)return this._arr[n].priority},PriorityQueue.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},PriorityQueue.prototype.add=function(e,n){var r=this._keyIndices;if(e=String(e),!L(r,e)){var t=this._arr,o=t.length;return r[e]=o,t.push({key:e,priority:n}),this._decrease(o),!0}return!1},PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},PriorityQueue.prototype.decrease=function(e,n){var r=this._keyIndices[e];if(n>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+n);this._arr[r].priority=n,this._decrease(r)},PriorityQueue.prototype._heapify=function(e){var n=this._arr,r=2*e,t=r+1,o=e;r<n.length&&(o=n[r].priority<n[o].priority?r:o,t<n.length&&(o=n[t].priority<n[o].priority?t:o),o!==e&&(this._swap(e,o),this._heapify(o)))},PriorityQueue.prototype._decrease=function(e){for(var n,r=this._arr,t=r[e].priority;0!==e&&!(r[n=e>>1].priority<t);)this._swap(e,n),e=n},PriorityQueue.prototype._swap=function(e,n){var r=this._arr,t=this._keyIndices,o=r[e],i=r[n];r[e]=i,r[n]=o,t[i.key]=e,t[o.key]=n};var S=function dijkstra_dijkstra(e,n,r,t){return function runDijkstra(e,n,r,t){var o,i,a={},u=new R,s=function updateNeighbors(e){var n=e.v!==o?e.v:e.w,t=a[n],s=r(e),d=i.distance+s;if(s<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+s);d<t.distance&&(t.distance=d,t.predecessor=o,u.decrease(n,d))};for(e.nodes().forEach((function(e){var r=e===n?0:Number.POSITIVE_INFINITY;a[e]={distance:r},u.add(e,r)}));u.size()>0&&(o=u.removeMin(),(i=a[o]).distance!==Number.POSITIVE_INFINITY);)t(o).forEach(s);return a}(e,String(n),r||D,t||function(n){return e.outEdges(n)})},D=G(1),A=function dijkstraAll(e,n,r){return function transform(e,n,r){return p(e).forEach((function(t){var o=e[t];n(r,o)})),r}(e.nodes(),(function(t,o){t[o]=S(e,o,n,r)}),{})},F=function tarjan_tarjan(e){var n=0,r=[],t={},o=[];return e.nodes().forEach((function(i){L(t,i)||function dfs(i){var a=t[i]={onStack:!0,lowlink:n,index:n++};if(r.push(i),e.successors(i).forEach((function(e){L(t,e)?t[e].onStack&&(a.lowlink=Math.min(a.lowlink,t[e].index)):(dfs(e),a.lowlink=Math.min(a.lowlink,t[e].lowlink))})),a.lowlink===a.index){var u,s=[];do{u=r.pop(),t[u].onStack=!1,s.push(u)}while(i!==u);o.push(s)}}(i)})),o},B=function findCycles(e){return F(e).filter((function(n){return n.length>1||1===n.length&&e.hasEdge(n[0],n[0])}))},Y=function floydWarshall(e,n,r){return function runFloydWarshall(e,n,r){var t={},o=e.nodes();return o.forEach((function(e){t[e]={},t[e][e]={distance:0},o.forEach((function(n){e!==n&&(t[e][n]={distance:Number.POSITIVE_INFINITY})})),r(e).forEach((function(r){var o=r.v===e?r.w:r.v,i=n(r);t[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var n=t[e];o.forEach((function(r){var i=t[r];o.forEach((function(r){var t=i[e],o=n[r],a=i[r],u=t.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),t}(e,n||z,r||function(n){return e.outEdges(n)})},z=G(1),V=topsort_topsort;function topsort_topsort(e){var n={},r={},t=[];if(e.sinks().forEach((function visit(o){if(L(r,o))throw new CycleException;L(n,o)||(r[o]=!0,n[o]=!0,e.predecessors(o).forEach(visit),delete r[o],t.push(o))})),function size(e){return e?p(e).length:0}(n)!==e.nodeCount())throw new CycleException;return t}function CycleException(){}topsort_topsort.CycleException=CycleException,CycleException.prototype=new Error;var W=function isAcyclic(e){try{V(e)}catch(n){if(n instanceof V.CycleException)return!1;throw n}return!0},Q=function dfs_dfs(e,n,r){g(n)||(n=[n]);var t=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],i={};return n.forEach((function(n){if(!e.hasNode(n))throw new Error("Graph does not have node: "+n);!function doDfs(e,n,r,t,o,i){L(t,n)||(t[n]=!0,r||i.push(n),o(n).forEach((function(n){doDfs(e,n,r,t,o,i)})),r&&i.push(n))}(e,n,"post"===r,i,t,o)})),o},q=function postorder_postorder(e,n){return Q(e,n,"post")},H=function preorder_preorder(e,n){return Q(e,n,"pre")},U=function prim_prim(e,n){var r,t=new M,o={},i=new R;function updateNeighbors(e){var t=e.v===r?e.w:e.v,a=i.priority(t);if(a!==undefined){var u=n(e);u<a&&(o[t]=r,i.decrease(t,u))}}if(0===e.nodeCount())return t;e.nodes().forEach((function(e){i.add(e,Number.POSITIVE_INFINITY),t.setNode(e)})),i.decrease(e.nodes()[0],0);for(var a=!1;i.size()>0;){if(r=i.removeMin(),L(o,r))t.setEdge(r,o[r]);else{if(a)throw new Error("Input graph is not connected: "+e);a=!0}e.nodeEdges(r).forEach(updateNeighbors)}return t},X=M,J=List;function List(){var e={};e._next=e._prev=e,this._sentinel=e}function unlink(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function filterOutLinks(e,n){if("_next"!==e&&"_prev"!==e)return n}List.prototype.dequeue=function(){var e=this._sentinel,n=e._prev;if(n!==e)return unlink(n),n},List.prototype.enqueue=function(e){var n=this._sentinel;e._prev&&e._next&&unlink(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n},List.prototype.toString=function(){for(var e=[],n=this._sentinel,r=n._prev;r!==n;)e.push(JSON.stringify(r,filterOutLinks)),r=r._prev;return"["+e.join(", ")+"]"};var K=function DEFAULT_WEIGHT_FN(){return 1};function removeNode(e,n,r,t,o){var i=o?[]:undefined;return e.inEdges(t.v).forEach((function(t){var a=e.edge(t),u=e.node(t.v);o&&i.push({v:t.v,w:t.w}),u.out-=a,assignBucket(n,r,u)})),e.outEdges(t.v).forEach((function(t){var o=e.edge(t),i=t.w,a=e.node(i);a["in"]-=o,assignBucket(n,r,a)})),e.removeNode(t.v),i}function assignBucket(e,n,r){r.out?r["in"]?e[r.out-r["in"]+n].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}function addDummyNode(e,n,r,t){var o;do{o=k(t)}while(e.hasNode(o));return r.dummy=n,e.setNode(o,r),o}function asNonCompoundGraph(e){var n=new X({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach((function(r){e.children(r).length||n.setNode(r,e.node(r))})),e.edges().forEach((function(r){n.setEdge(r,e.edge(r))})),n}function intersectRect(e,n){var r,t,o=e.x,i=e.y,a=n.x-o,u=n.y-i,s=e.width/2,d=e.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(u)*s>Math.abs(a)*d?(u<0&&(d=-d),r=d*a/u,t=d):(a<0&&(s=-s),r=s,t=s*u/a),{x:o+r,y:i+t}}function buildLayerMatrix(e){var n=m(util_maxRank(e)+1).map((function(){return[]}));return e.nodes().forEach((function(r){var t=e.node(r),o=t.rank;void 0!==o&&(n[o][t.order]=r)})),n}function addBorderNode(e,n,r,t){var o={width:0,height:0};return arguments.length>=4&&(o.rank=r,o.order=t),addDummyNode(e,"border",o,n)}function util_maxRank(e,n){n||(n=e.nodes());var r=n.map((function(n){var r=e.node(n).rank;if(void 0!==r)return r}));return r.length?O(r):0}function util_time(e,n){var r=N();try{return n()}finally{console.log(e+" time: "+(N()-r)+"ms")}}function notime(e,n){return n()}function swapWidthHeight(e){e.nodes().forEach((function(n){swapWidthHeightOne(e.node(n))})),e.edges().forEach((function(n){swapWidthHeightOne(e.edge(n))}))}function swapWidthHeightOne(e){var n=e.width;e.width=e.height,e.height=n}function reverseYOne(e){e.y=-e.y}function swapXYOne(e){var n=e.x;e.x=e.y,e.y=n}function longestPath(e){var n={};e.sources().forEach((function dfs(r){var t=e.node(r);if(n.v)return t.rank;n[r]=!0;var o=I(e.outEdges(r).map((function(n){return dfs(n.w)-e.edge(n).minlen})));return o!==Number.POSITIVE_INFINITY&&o!==undefined&&null!==o||(o=0),t.rank=o}))}function slack(e,n){return e.node(n.w).rank-e.node(n.v).rank-e.edge(n).minlen}Object.keys;var Z=function feasibleTree(e){var n,r,t=new X({directed:!1}),o=e.nodes()[0],i=e.nodeCount();for(t.setNode(o,{});tightTree(t,e)<i;)n=findMinSlackEdge(t,e),r=t.hasNode(n.v)?slack(e,n):-slack(e,n),shiftRanks(t,e,r);return t};function tightTree(e,n){return e.nodes().forEach((function dfs(r){n.nodeEdges(r).forEach((function(t){var o=t.v,i=r===o?t.w:o;e.hasNode(i)||slack(n,t)||(e.setNode(i,{}),e.setEdge(r,i,{}),dfs(i))}))})),e.nodeCount()}function findMinSlackEdge(e,n){return E(n.edges(),(function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return slack(n,r)}))}function shiftRanks(e,n,r){e.nodes().forEach((function(e){n.node(e).rank+=r}))}var $=t.preorder,ee=t.postorder,ne=(Object.keys,function networkSimplex(e){longestPath(e=function simplify(e){var n=(new X).setGraph(e.graph());return e.nodes().forEach((function(r){n.setNode(r,e.node(r))})),e.edges().forEach((function(r){var t=n.edge(r.v,r.w)||{weight:0,minlen:1},o=e.edge(r);n.setEdge(r.v,r.w,{weight:t.weight+o.weight,minlen:O(t.minlen,o.minlen)})})),n}(e));var n,r=Z(e);for(initLowLimValues(r),initCutValues(r,e);n=leaveEdge(r);)exchangeEdges(r,e,n,enterEdge(r,e,n))});function initCutValues(e,n){var r=ee(e,e.nodes());(r=r.slice(0,r.length-1)).forEach((function(r){!function assignCutValue(e,n,r){var t=e.node(r).parent;e.edge(r,t).cutvalue=function calcCutValue(e,n,r){var t=e.node(r).parent,o=!0,i=n.edge(r,t),a=0;return i||(o=!1,i=n.edge(t,r)),a=i.weight,n.nodeEdges(r).forEach((function(i){var u=i.v===r,s=u?i.w:i.v;if(s!==t){var d=u===o,c=n.edge(i).weight;if(a+=d?c:-c,function isTreeEdge(e,n,r){return e.hasEdge(n,r)}(e,r,s)){var f=e.edge(r,s).cutvalue;a+=d?-f:f}}})),a}(e,n,r)}(e,n,r)}))}function initLowLimValues(e,n){arguments.length<2&&(n=e.nodes()[0]),dfsAssignLowLim(e,{},1,n)}function dfsAssignLowLim(e,n,r,t,o){var i=r,a=e.node(t);return n[t]=!0,e.neighbors(t).forEach((function(o){n[o]||(r=dfsAssignLowLim(e,n,r,o,t))})),a.low=i,a.lim=r++,o?a.parent=o:delete a.parent,r}function leaveEdge(e){return w(e.edges(),(function(n){return e.edge(n).cutvalue<0}))}function enterEdge(e,n,r){var t=r.v,o=r.w;n.hasEdge(t,o)||(t=r.w,o=r.v);var i=e.node(t),a=e.node(o),u=i,s=!1;i.lim>a.lim&&(u=a,s=!0);var d=n.edges().filter((function(n){return s===isDescendant(0,e.node(n.v),u)&&s!==isDescendant(0,e.node(n.w),u)}));return E(d,(function(e){return slack(n,e)}))}function exchangeEdges(e,n,r,t){var o=r.v,i=r.w;e.removeEdge(o,i),e.setEdge(t.v,t.w,{}),initLowLimValues(e),initCutValues(e,n),function updateRanks(e,n){var r=w(e.nodes(),(function(e){return!n.node(e).parent})),t=$(e,r);(t=t.slice(1)).forEach((function(r){var t=e.node(r).parent,o=n.edge(r,t),i=!1;o||(o=n.edge(t,r),i=!0),n.node(r).rank=n.node(t).rank+(i?o.minlen:-o.minlen)}))}(e,n)}function isDescendant(e,n,r){return r.low<=n.lim&&n.lim<=r.lim}var re=longestPath,te=Object.keys;function consumeUnsortable(e,n,r){for(var t;n.length&&(t=n.slice(-1)[0]).i<=r;)n.pop(),e.push(t.vs),r++;return r}var oe=function sortSubgraph(e,n,r,t){var o=e.children(n),i=e.node(n),a=i?i.borderLeft:undefined,u=i?i.borderRight:undefined,s={};a&&(o=o.filter((function(e){return e!==a&&e!==u})));var d=function barycenter_barycenter(e,n){return n.map((function(n){var r=e.inEdges(n);if(r.length){var t=r.reduce((function(n,r){var t=e.edge(r),o=e.node(r.v);return{sum:n.sum+t.weight*o.order,weight:n.weight+t.weight}}),{sum:0,weight:0});return{v:n,barycenter:t.sum/t.weight,weight:t.weight}}return{v:n}}))}(e,o);d.forEach((function(n){if(e.children(n.v).length){var o=sortSubgraph(e,n.v,r,t);s[n.v]=o,o.barycenter&&function mergeBarycenters(e,n){"undefined"!=typeof e.barycenter?(e.barycenter=(e.barycenter*e.weight+n.barycenter*n.weight)/(e.weight+n.weight),e.weight+=n.weight):(e.barycenter=n.barycenter,e.weight=n.weight)}(n,o)}}));var c=function resolveConflicts(e,n){var r={};return e.forEach((function(e,n){var t=r[e.v]={indegree:0,"in":[],out:[],vs:[e.v],i:n};"undefined"!=typeof e.barycenter&&(t.barycenter=e.barycenter,t.weight=e.weight)})),n.edges().forEach((function(e){var n=r[e.v],t=r[e.w];void 0!==n&&void 0!==t&&(t.indegree++,n.out.push(r[e.w]))})),function doResolveConflicts(e){var n=[];function handleIn(e){return function(n){n.merged||("undefined"==typeof n.barycenter||"undefined"==typeof e.barycenter||n.barycenter>=e.barycenter)&&function mergeEntries(e,n){var r=0,t=0;e.weight&&(r+=e.barycenter*e.weight,t+=e.weight),n.weight&&(r+=n.barycenter*n.weight,t+=n.weight),e.vs=n.vs.concat(e.vs),e.barycenter=r/t,e.weight=t,e.i=Math.min(n.i,e.i),n.merged=!0}(e,n)}}function handleOut(n){return function(r){r["in"].push(n),0==--r.indegree&&e.push(r)}}for(;e.length;){var r=e.pop();n.push(r),r["in"].reverse().forEach(handleIn(r)),r.out.forEach(handleOut(r))}return n.filter((function(e){return!e.merged})).map((function(e){return b(e,["vs","i","barycenter","weight"])})).map((function(e){return e}))}(te(r).filter((function(e){return!r[e].indegree})).map((function(e){return r[e]})))}(d,r);!function expandSubgraphs(e,n){e.forEach((function(e){e.vs=y(e.vs.map((function(e){return n[e]?n[e].vs:e})),[],1)}))}(c,s);var f=function sort_sort(e,n){var r=function partition(e,n){var r={lhs:[],rhs:[]};return e.forEach((function(e){n(e)?r.lhs.push(e):r.rhs.push(e)})),r}(e,(function(e){return"undefined"!=typeof e.barycenter})),t=r.lhs,o=r.rhs.sort((function(e){return-e.i})),i=[],a=0,u=0,s=0;t.sort(function compareWithBias(e){return function(n,r){return n.barycenter<r.barycenter?-1:n.barycenter>r.barycenter?1:e?r.i-n.i:n.i-r.i}}(!!n)),s=consumeUnsortable(i,o,s),t.forEach((function(e){s+=e.vs.length,i.push(e.vs),a+=e.barycenter*e.weight,u+=e.weight,s=consumeUnsortable(i,o,s)}));var d={vs:y(i,[],1)};return u&&(d.barycenter=a/u,d.weight=u),d}(c,t);if(a&&(f.vs=y([a,f.vs,u],[],1),e.predecessors(a).length)){var h=e.node(e.predecessors(a)[0]),p=e.node(e.predecessors(u)[0]);"undefined"==typeof f.barycenter&&(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+p.order)/(f.weight+2),f.weight+=2}return f},ie=function crossCount(e,n){for(var r=0,t=1;t<n.length;++t)r+=twoLayerCrossCount(e,n[t-1],n[t]);return r};function twoLayerCrossCount(e,n,r){for(var t=function zipObject(e,n){var r={};return e.forEach((function(e,t){r[e]=n[t]})),r}(r,r.map((function(e,n){return n}))),o=n.map((function(n){return e.outEdges(n).map((function(n){return{pos:t[n.w],weight:e.edge(n).weight}})).sort((function(e){return e.pos})).map((function(e){return e}))})),i=y(o,[],1),a=1;a<r.length;)a<<=1;var u=2*a-1;a-=1;var s=m(u).map((function(){return 0})),d=0;return i.forEach((function(e){var n=e.pos+a;s[n]+=e.weight;for(var r=0;n>0;)n%2&&(r+=s[n+1]),s[n=n-1>>1]+=e.weight;d+=e.weight*r})),d}var ae=Object.keys,ue=function order_order(e){var n=util_maxRank(e),r=buildLayerGraphs(e,m(n+1).slice(1),"inEdges"),t=buildLayerGraphs(e,function rangeStep(e,n,r,t){for(var o=-1,i=Math.max(Math.ceil((n-e)/(r||1)),0),a=Array(i);i--;)a[t?i:++o]=e,e+=r;return a}(n-1,-1,-1),"outEdges"),o=function initOrder(e){var n={},r=e.nodes().filter((function(n){return!e.children(n).length})),t=util_maxRank(e,r),o=m(t+1).map((function(){return[]}));return r.sort((function(n){return e.node(n).rank})).forEach((function dfs(r){if(!n[r]){n[r]=!0;var t=e.node(r);o[t.rank].push(r),e.successors(r).forEach(dfs)}})),o}(e);assignOrder(e,o);for(var a,u=Number.POSITIVE_INFINITY,s=0,d=0;d<4;++s,++d){sweepLayerGraphs(s%2?r:t,s%4>=2),o=buildLayerMatrix(e);var c=ie(e,o);c<u&&(d=0,a=Object(i.a)({},o),u=c)}assignOrder(e,a)};function buildLayerGraphs(e,n,r){return n.map((function(n){return function buildLayerGraph(e,n,r){var t=function createRootNode(e){for(var n;e.hasNode(n=k("_root")););return n}(e),o=new X({compound:!0}).setGraph({root:t}).setDefaultNodeLabel((function(n){return e.node(n)}));return e.nodes().forEach((function(i){var a=e.node(i),u=e.parent(i);(a.rank===n||a.minRank<=n&&n<=a.maxRank)&&(o.setNode(i),o.setParent(i,u||t),e[r](i).forEach((function(n){var r=n.v===i?n.w:n.v,t=o.edge(r,i),a=void 0!==t?t.weight:0;o.setEdge(r,i,{weight:e.edge(n).weight+a})})),"undefined"!=typeof a.minRank&&o.setNode(i,{borderLeft:a.borderLeft[n],borderRight:a.borderRight[n]}))})),o}(e,n,r)}))}function sweepLayerGraphs(e,n){var r=new X;e.forEach((function(e){var t=e.graph().root,o=oe(e,t,r,n);o.vs.forEach((function(n,r){e.node(n).order=r})),function addSubgraphConstraints(e,n,r){var t,o={};r.forEach((function(r){for(var i,a,u=e.parent(r);u;){if((i=e.parent(u))?(a=o[i],o[i]=u):(a=t,t=u),a&&a!==u)return void n.setEdge(a,u);u=i}}))}(e,r,o.vs)}))}function assignOrder(e,n){ae(n||{}).forEach((function(r){n[r].forEach((function(n,r){return e.node(n).order=r}))}))}function add_border_segments_addBorderNode(e,n,r,t,o,i){var a={width:0,height:0,rank:i,borderType:n},u=o[n][i-1],s=addDummyNode(e,"border",a,r);o[n][i]=s,e.setParent(s,t),u&&e.setEdge(u,s,{weight:1})}var se=Object.keys;function addConflict(e,n,r){if(n>r){var t=n;n=r,r=t}var o=e[n];o||(e[n]=o={}),o[r]=!0}function hasConflict(e,n,r){if(n>r){var t=n;n=r,r=t}return!!Object(u["default"])(e,["v","w"])}function positionX(e){var n,r=buildLayerMatrix(e),t=Object(i.a)(Object(i.a)({},function findType1Conflicts(e,n){var r={};return n.reduce((function visitLayer(n,t){var o=0,i=0,a=n.length,u=t.slice(-1)[0];return t.forEach((function(n,s){var d=function findOtherInnerSegmentNode(e,n){var r;if(e.node(n).dummy)return e.predecessors(n).some((function(n){return!!e.node(n).dummy&&(r=n,!0)})),r}(e,n),c=d?e.node(d).order:a;(d||n===u)&&(t.slice(i,s+1).forEach((function(n){e.predecessors(n).forEach((function(t){var i=e.node(t),a=i.order;!(a<o||c<a)||i.dummy&&e.node(n).dummy||addConflict(r,t,n)}))})),i=s+1,o=c)})),t})),r}(e,r)),function findType2Conflicts(e,n){var r={};function scan(n,t,o,i,a){var u;m(o).slice(t).forEach((function(t){u=n[t],e.node(u).dummy&&e.predecessors(u).forEach((function(n){var t=e.node(n);t.dummy&&(t.order<i||t.order>a)&&addConflict(r,n,u)}))}))}return n.reduce((function visitLayer(n,r){var t,o=-1,i=0;return r.forEach((function(a,u){if("border"===e.node(a).dummy){var s=e.predecessors(a);s.length&&(t=e.node(s[0]).order,scan(r,i,u,o,t),i=u,o=t)}scan(r,i,r.length,t,n.length)})),r})),r}(e,r)),o={};["u","d"].forEach((function(i){n="u"===i?r:se(r).map((function(e){return r[e]})).reverse(),["l","r"].forEach((function(r){"r"===r&&(n=n.map((function(e){return se(e).map((function(n){return e[n]})).reverse()})));var a=("u"===i?e.predecessors:e.successors).bind(e),u=function verticalAlignment(e,n,r,t){var o={},i={},a={};return n.forEach((function(e){e.forEach((function(e,n){o[e]=e,i[e]=e,a[e]=n}))})),n.forEach((function(e){var n=-1;e.forEach((function(e){var u=t(e);if(u.length){u.sort((function(e){return a[e]}));for(var s=(u.length-1)/2,d=Math.floor(s),c=Math.ceil(s);d<=c;++d){var f=u[d];i[e]===e&&n<a[f]&&!hasConflict(r,e,f)&&(i[f]=e,i[e]=o[e]=o[f],n=a[f])}}}))})),{root:o,align:i}}(0,n,t,a),s=function horizontalCompaction(e,n,r,t,o){var i={},a=function buildBlockGraph(e,n,r,t){var o=new X,i=e.graph(),a=function sep(e,n,r){return function(t,o,i){var a,u=t.node(o),s=t.node(i),d=0;if(d+=u.width/2,u.labelpos)switch(u.labelpos.toLowerCase()){case"l":a=-u.width/2;break;case"r":a=u.width/2}if(a&&(d+=r?a:-a),a=0,d+=(u.dummy?n:e)/2,d+=(s.dummy?n:e)/2,d+=s.width/2,s.labelpos)switch(s.labelpos.toLowerCase()){case"l":a=s.width/2;break;case"r":a=-s.width/2}return a&&(d+=r?a:-a),a=0,d}}(i.nodesep,i.edgesep,t);return n.forEach((function(n){var t;n.forEach((function(n){var i=r[n];if(o.setNode(i),t){var u=r[t],s=o.edge(u,i);o.setEdge(u,i,Math.max(a(e,n,t),s||0))}t=n}))})),o}(e,n,r,o),u=o?"borderLeft":"borderRight";function iterate(e,n){for(var r=a.nodes(),t=r.pop(),o={};t;)o[t]?e(t):(o[t]=!0,r.push(t),r=r.concat(n(t))),t=r.pop()}return iterate((function pass1(e){i[e]=a.inEdges(e).reduce((function(e,n){return Math.max(e,i[n.v]+a.edge(n))}),0)}),a.predecessors.bind(a)),iterate((function pass2(n){var r=a.outEdges(n).reduce((function(e,n){return Math.min(e,i[n.w]-a.edge(n))}),Number.POSITIVE_INFINITY),t=e.node(n);r!==Number.POSITIVE_INFINITY&&t.borderType!==u&&(i[n]=Math.max(i[n],r))}),a.successors.bind(a)),se(t).map((function(e){return t[e]})).forEach((function(e){return i[e]=i[r[e]]})),i}(e,n,u.root,u.align,"r"===r);"r"===r&&se(s).forEach((function(e){s[e]=-1*s[e]})),o[i+r]=s}))}));var a=function findSmallestWidthAlignment(e,n){var r=se(n).map((function(e){return n[e]})).map((function(n){var r=Number.NEGATIVE_INFINITY,t=Number.POSITIVE_INFINITY;return se(n).forEach((function(o){var i=n[o],a=function width(e,n){return e.node(n).width}(e,o)/2;r=Math.max(i+a,r),t=Math.min(i-a,t)})),r-t}));return I(r)}(e,o);return function alignCoordinates(e,n){var r=x(n),t=I(r),o=O(r);["u","d"].forEach((function(r){["l","r"].forEach((function(i){var a,u=r+i,s=e[u];if(s!==n){var d=x(s);(a="l"===i?t-I(d):o-O(d))&&(e[u]=se(s).map((function(e){return s[e]})).map((function(e){return e+a})))}}))}))}(o,a),function balance(e,n){var r={};return se(e.ul).forEach((function(t){return r[t]=function callback(r,t){if(n)return e[n.toLowerCase()][t];var o=se(e).map((function(n){return e[n][t]})).sort();return(o[1]+o[2])/2}(e.ul[t],t)})),r}(o,e.graph().align)}var de=Object.keys,ce=Object.keys,fe=function layout_layout(e,n){var r=n&&n.debugTiming?util_time:notime;r("layout",(function(){var n=r("  buildLayoutGraph",(function(){return function buildLayoutGraph(e){var n=new X({multigraph:!0,compound:!0}),r=canonicalize(e.graph());return n.setGraph(Object(i.a)(Object(i.a)(Object(i.a)({},pe),selectNumberAttrs(r,he)),b(r,ge))),e.nodes().forEach((function(r){var t=canonicalize(e.node(r));n.setNode(r,Object(i.a)(Object(i.a)({},ve),selectNumberAttrs(t,le))),n.setParent(r,e.parent(r))})),e.edges().forEach((function(r){var t=canonicalize(e.edge(r));n.setEdge(r,Object(i.a)(Object(i.a)(Object(i.a)({},ye),selectNumberAttrs(t,me)),b(t,Ee)))})),n}(e)}));r("  runLayout",(function(){!function runLayout(e,n){n("    makeSpaceForEdgeLabels",(function(){!function makeSpaceForEdgeLabels(e){var n=e.graph();n.ranksep/=2,e.edges().forEach((function(r){var t=e.edge(r);t.minlen*=2,"c"!==t.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)}))}(e)})),n("    removeSelfEdges",(function(){!function removeSelfEdges(e){e.edges().forEach((function(n){if(n.v===n.w){var r=e.node(n.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:n,label:e.edge(n)}),e.removeEdge(n)}}))}(e)})),n("    acyclic",(function(){!function run(e){("greedy"===e.graph().acyclicer?function greedyFAS(e,n){if(e.nodeCount()<=1)return[];var r=function buildState(e,n){var r=new X,t=0,o=0;e.nodes().forEach((function(e){r.setNode(e,{v:e,"in":0,out:0})})),e.edges().forEach((function(e){var i=r.edge(e.v,e.w)||0,a=n(e),u=i+a;r.setEdge(e.v,e.w,u),o=Math.max(o,r.node(e.v).out+=a),t=Math.max(t,r.node(e.w)["in"]+=a)}));var i=m(o+t+3).map((function(){return new J})),a=t+1;return r.nodes().forEach((function(e){assignBucket(i,a,r.node(e))})),{graph:r,buckets:i,zeroIdx:a}}(e,n||K),t=function doGreedyFAS(e,n,r){for(var t,o=[],i=n[n.length-1],a=n[0];e.nodeCount();){for(;t=a.dequeue();)removeNode(e,n,r,t);for(;t=i.dequeue();)removeNode(e,n,r,t);if(e.nodeCount())for(var u=n.length-2;u>0;--u)if(t=n[u].dequeue()){o=o.concat(removeNode(e,n,r,t,!0));break}}return o}(r.graph,r.buckets,r.zeroIdx);return y(t.map((function(n){return e.outEdges(n.v,n.w)})),[],1)}(e,function weightFn(e){return function(n){return e.edge(n).weight}}(e)):function dfsFAS(e){var n=[],r={},t={};return e.nodes().forEach((function dfs(o){t[o]||(t[o]=!0,r[o]=!0,e.outEdges(o).forEach((function(e){r[e.w]?n.push(e):dfs(e.w)})),delete r[o])})),n}(e)).forEach((function(n){var r=e.edge(n);e.removeEdge(n),r.forwardName=n.name,r.reversed=!0,e.setEdge(n.w,n.v,r,k("rev"))}))}(e)})),n("    nestingGraph.run",(function(){!function nesting_graph_run(e){var n=addDummyNode(e,"root",{},"_root"),r=function treeDepths(e){var n={};return e.children().forEach((function(r){!function dfs(r,t){var o=e.children(r);o&&o.length&&o.forEach((function(e){dfs(e,t+1)})),n[r]=t}(r,1)})),n}(e),t=O(x(r))-1,o=2*t+1;e.graph().nestingRoot=n,e.edges().forEach((function(n){e.edge(n).minlen*=o}));var i=function sumWeights(e){return e.edges().reduce((function(n,r){return n+e.edge(r).weight}),0)}(e)+1;e.children().forEach((function(a){!function nesting_graph_dfs(e,n,r,t,o,i,a){var u=e.children(a);if(u.length){var s=addBorderNode(e,"_bt"),d=addBorderNode(e,"_bb"),c=e.node(a);e.setParent(s,a),c.borderTop=s,e.setParent(d,a),c.borderBottom=d,u.forEach((function(u){nesting_graph_dfs(e,n,r,t,o,i,u);var c=e.node(u),f=c.borderTop?c.borderTop:u,h=c.borderBottom?c.borderBottom:u,p=c.borderTop?t:2*t,g=f!==h?1:o-i[a]+1;e.setEdge(s,f,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(h,d,{weight:p,minlen:g,nestingEdge:!0})})),e.parent(a)||e.setEdge(n,s,{weight:0,minlen:o+i[a]})}else a!==n&&e.setEdge(n,a,{weight:0,minlen:r})}(e,n,o,i,t,r,a)})),e.graph().nodeRankFactor=o}(e)})),n("    rank",(function(){!function rank_rank(e){switch(e.graph().ranker){case"tight-tree":!function tightTreeRanker(e){longestPath(e),Z(e)}(e);break;case"longest-path":re(e);break;case"network-simplex":default:!function networkSimplexRanker(e){ne(e)}(e)}}(asNonCompoundGraph(e))})),n("    injectEdgeLabelProxies",(function(){!function injectEdgeLabelProxies(e){e.edges().forEach((function(n){var r=e.edge(n);if(r.width&&r.height){var t=e.node(n.v),o={rank:(e.node(n.w).rank-t.rank)/2+t.rank,e:n};addDummyNode(e,"edge-proxy",o,"_ep")}}))}(e)})),n("    removeEmptyRanks",(function(){!function removeEmptyRanks(e){var n=I(e.nodes().map((function(n){return e.node(n).rank}))),r=[];e.nodes().forEach((function(t){var o=e.node(t).rank-n;r[o]||(r[o]=[]),r[o].push(t)}));var t=0,o=e.graph().nodeRankFactor;r.forEach((function(n,r){void 0===n&&r%o!=0?--t:t&&n.forEach((function(n){e.node(n).rank+=t}))}))}(e)})),n("    nestingGraph.cleanup",(function(){!function cleanup(e){var n=e.graph();e.removeNode(n.nestingRoot),delete n.nestingRoot,e.edges().forEach((function(n){e.edge(n).nestingEdge&&e.removeEdge(n)}))}(e)})),n("    normalizeRanks",(function(){!function normalizeRanks(e){var n=I(e.nodes().map((function(n){return e.node(n).rank})));e.nodes().forEach((function(r){var t=e.node(r);"undefined"!=typeof t.rank&&(t.rank-=n)}))}(e)})),n("    assignRankMinMax",(function(){!function assignRankMinMax(e){var n=0;e.nodes().forEach((function(r){var t=e.node(r);t.borderTop&&(t.minRank=e.node(t.borderTop).rank,t.maxRank=e.node(t.borderBottom).rank,n=Math.max(n,t.maxRank))})),e.graph().maxRank=n}(e)})),n("    removeEdgeLabelProxies",(function(){!function removeEdgeLabelProxies(e){e.nodes().forEach((function(n){var r=e.node(n);"edge-proxy"===r.dummy&&(e.edge(r.e).labelRank=r.rank,e.removeNode(n))}))}(e)})),n("    normalize.run",(function(){!function normalize_run(e){e.graph().dummyChains=[],e.edges().forEach((function(n){!function normalizeEdge(e,n){var r,t,o,i=n.v,a=e.node(i).rank,u=n.w,s=e.node(u).rank,d=n.name,c=e.edge(n),f=c.labelRank;if(s!==a+1){for(e.removeEdge(n),o=0,++a;a<s;++o,++a)c.points=[],r=addDummyNode(e,"edge",t={width:0,height:0,edgeLabel:c,edgeObj:n,rank:a},"_d"),a===f&&(t.width=c.width,t.height=c.height,t.dummy="edge-label",t.labelpos=c.labelpos),e.setEdge(i,r,{weight:c.weight},d),0===o&&e.graph().dummyChains.push(r),i=r;e.setEdge(i,u,{weight:c.weight},d)}}(e,n)}))}(e)})),n("    parentDummyChains",(function(){!function parentDummyChains(e){var n=function parent_dummy_chains_postorder(e){var n={},r=0;return e.children().forEach((function dfs(t){var o=r;e.children(t).forEach(dfs),n[t]={low:o,lim:r++}})),n}(e);e.graph().dummyChains.forEach((function(r){for(var t=e.node(r),o=t.edgeObj,i=function findPath(e,n,r,t){var o,i,a=[],u=[],s=Math.min(n[r].low,n[t].low),d=Math.max(n[r].lim,n[t].lim);o=r;do{o=e.parent(o),a.push(o)}while(o&&(n[o].low>s||d>n[o].lim));for(i=o,o=t;(o=e.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(e,n,o.v,o.w),a=i.path,u=i.lca,s=0,d=a[s],c=!0;r!==o.w;){if(t=e.node(r),c){for(;(d=a[s])!==u&&e.node(d).maxRank<t.rank;)s++;d===u&&(c=!1)}if(!c){for(;s<a.length-1&&e.node(d=a[s+1]).minRank<=t.rank;)s++;d=a[s]}e.setParent(r,d),r=e.successors(r)[0]}}))}(e)})),n("    addBorderSegments",(function(){!function addBorderSegments(e){e.children().forEach((function dfs(n){var r=e.children(n),t=e.node(n);if(r.length&&r.forEach(dfs),t.minRank){t.borderLeft=[],t.borderRight=[];for(var o=t.minRank,i=t.maxRank+1;o<i;++o)add_border_segments_addBorderNode(e,"borderLeft","_bl",n,t,o),add_border_segments_addBorderNode(e,"borderRight","_br",n,t,o)}}))}(e)})),n("    order",(function(){ue(e)})),n("    insertSelfEdges",(function(){!function insertSelfEdges(e){buildLayerMatrix(e).forEach((function(n){var r=0;n.forEach((function(n,t){var o=e.node(n);o.order=t+r,o.selfEdges&&o.selfEdges.forEach((function(n){addDummyNode(e,"selfedge",{width:n.label.width,height:n.label.height,rank:o.rank,order:t+ ++r,e:n.e,label:n.label},"_se")})),delete o.selfEdges}))}))}(e)})),n("    adjustCoordinateSystem",(function(){!function adjust(e){var n=e.graph().rankdir.toLowerCase();"lr"!==n&&"rl"!==n||swapWidthHeight(e)}(e)})),n("    position",(function(){!function position_position(e){!function positionY(e){var n=buildLayerMatrix(e),r=e.graph().ranksep,t=0;n.forEach((function(n){var o=O(n.map((function(n){return e.node(n).height})));n.forEach((function(n){return e.node(n).y=t+o/2})),t+=o+r}))}(e=asNonCompoundGraph(e));var n=positionX(e);de(n).forEach((function(r){return e.node(r).x=n[r]}))}(e)})),n("    positionSelfEdges",(function(){!function positionSelfEdges(e){e.nodes().forEach((function(n){var r=e.node(n);if("selfedge"===r.dummy){var t=e.node(r.e.v),o=t.x+t.width/2,i=t.y,a=r.x-o,u=t.height/2;e.setEdge(r.e,r.label),e.removeNode(n),r.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],r.label.x=r.x,r.label.y=r.y}}))}(e)})),n("    removeBorderNodes",(function(){!function removeBorderNodes(e){e.nodes().forEach((function(n){if(e.children(n).length){var r=e.node(n),t=e.node(r.borderTop),o=e.node(r.borderBottom),i=e.node(r.borderLeft.slice(-1)[0]),a=e.node(r.borderRight.slice(-1)[0]);r.width=Math.abs(a.x-i.x),r.height=Math.abs(o.y-t.y),r.x=i.x+r.width/2,r.y=t.y+r.height/2}})),e.nodes().forEach((function(n){"border"===e.node(n).dummy&&e.removeNode(n)}))}(e)})),n("    normalize.undo",(function(){!function normalize_undo(e){e.graph().dummyChains.forEach((function(n){var r,t=e.node(n),o=t.edgeLabel;for(e.setEdge(t.edgeObj,o);t.dummy;)r=e.successors(n)[0],e.removeNode(n),o.points.push({x:t.x,y:t.y}),"edge-label"===t.dummy&&(o.x=t.x,o.y=t.y,o.width=t.width,o.height=t.height),n=r,t=e.node(n)}))}(e)})),n("    fixupEdgeLabelCoords",(function(){!function fixupEdgeLabelCoords(e){e.edges().forEach((function(n){var r=e.edge(n);if(r.x)switch("l"!==r.labelpos&&"r"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}}))}(e)})),n("    undoCoordinateSystem",(function(){!function coordinate_system_undo(e){var n=e.graph().rankdir.toLowerCase();"bt"!==n&&"rl"!==n||function reverseY(e){e.nodes().forEach((function(n){reverseYOne(e.node(n))})),e.edges().forEach((function(n){var r=e.edge(n);r.points.forEach(reverseYOne),r.y&&reverseYOne(r)}))}(e),"lr"!==n&&"rl"!==n||(function swapXY(e){e.nodes().forEach((function(n){swapXYOne(e.node(n))})),e.edges().forEach((function(n){var r=e.edge(n);r.points.forEach(swapXYOne),r.x&&swapXYOne(r)}))}(e),swapWidthHeight(e))}(e)})),n("    translateGraph",(function(){!function translateGraph(e){var n=Number.POSITIVE_INFINITY,r=0,t=Number.POSITIVE_INFINITY,o=0,i=e.graph(),a=i.marginx||0,u=i.marginy||0;function getExtremes(e){var i=e.x,a=e.y,u=e.width,s=e.height;n=Math.min(n,i-u/2),r=Math.max(r,i+u/2),t=Math.min(t,a-s/2),o=Math.max(o,a+s/2)}e.nodes().forEach((function(n){getExtremes(e.node(n))})),e.edges().forEach((function(n){var r=e.edge(n);r&&r.x&&getExtremes(r)})),n-=a,t-=u,e.nodes().forEach((function(r){var o=e.node(r);o.x-=n,o.y-=t})),e.edges().forEach((function(r){var o=e.edge(r);o.points.forEach((function(e){e.x-=n,e.y-=t})),o.x&&(o.x-=n),o.y&&(o.y-=t)})),i.width=r-n+a,i.height=o-t+u}(e)})),n("    assignNodeIntersects",(function(){!function assignNodeIntersects(e){e.edges().forEach((function(n){var r,t,o=e.edge(n),i=e.node(n.v),a=e.node(n.w);o.points?(r=o.points[0],t=o.points[o.points.length-1]):(o.points=[],r=a,t=i),o.points.unshift(intersectRect(i,r)),o.points.push(intersectRect(a,t))}))}(e)})),n("    reversePoints",(function(){!function reversePointsForReversedEdges(e){e.edges().forEach((function(n){var r=e.edge(n);r.reversed&&r.points.reverse()}))}(e)})),n("    acyclic.undo",(function(){!function undo(e){e.edges().forEach((function(n){var r=e.edge(n);if(r.reversed){e.removeEdge(n);var t=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(n.w,n.v,r,t)}}))}(e)}))}(n,r)})),r("  updateInputGraph",(function(){!function updateInputGraph(e,n){e.nodes().forEach((function(r){var t=e.node(r),o=n.node(r);t&&(t.x=o.x,t.y=o.y,n.children(r).length&&(t.width=o.width,t.height=o.height))})),e.edges().forEach((function(r){var t=e.edge(r),o=n.edge(r);t.points=o.points,o.x&&(t.x=o.x,t.y=o.y)})),e.graph().width=n.graph().width,e.graph().height=n.graph().height}(e,n)}))}))},he=["nodesep","edgesep","ranksep","marginx","marginy"],pe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ge=["acyclicer","ranker","rankdir","align"],le=["width","height"],ve={width:0,height:0},me=["minlen","weight","width","height","labeloffset"],ye={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ee=["labelpos"];function selectNumberAttrs(e,n){return function mapValues(e,n){var r={};return p(e).forEach((function(t){return r[t]=n(e[t],t)})),r}(b(e,n),Number)}function canonicalize(e){var n={};return ce(e).forEach((function(r){return n[r.toLowerCase()]=e[r]})),n}var we=Object.keys,be=function toInt(e){return parseInt(e,10)};n["default"]=function dagreAutoLayout(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=(new o.Graph).setGraph({rankdir:"LR"}).setDefaultEdgeLabel((function(){return{}})),t=we(e);t&&t.length||console.warn("[Dagre] empty node");var s=[];Object(u["default"])(we(n),null,{}).forEach((function(e){var t;r.setEdge.apply(r,Object(a.a)(n[e])),(t=s).push.apply(t,Object(a.a)(n[e]))})),s=d()(s);var c=[];t.forEach((function(n){-1!==s.indexOf(be(n))?r.setNode(n,Object(i.a)({label:n},e[n].getWH())):c.push(n)})),fe(r);var f={};if(r.nodes().forEach((function(e){return f[e]=r.node(e)})),c.length){var h=1;c.forEach((function(e){f[e]={x:10,y:20*h},h++}))}return f}}}]);