{"version":3,"file":"main.5e7b78d4593fc45a2a65.hot-update.js","sources":["webpack:///../react-atomic-organism/packages/organism-react-html2canvas/build/es/ui/organisms/HTMLToPDF.js"],"sourcesContent":["var _s = $RefreshSig$();\n\nimport React, { forwardRef, useRef, useState, useImperativeHandle } from \"react\";\nimport get from \"get-object-value\";\nimport ratio from \"ratio-js\";\nimport HTMLToCanvas from \"../organisms/HTMLToCanvas\";\nvar defaultAssets = {\n  jspdf: \"https://cdn.jsdelivr.net/npm/jspdf@2.1.0/dist/jspdf.umd.min.js\"\n};\n\nvar getAsset = function getAsset(file) {\n  return get(defaultAssets, [file]);\n};\n\nvar HTMLToPDF = function HTMLToPDF(props, ref) {\n  _s();\n\n  var canvas = useRef();\n\n  var handleRefCanvas = function handleRefCanvas(el) {\n    return canvas.current = el;\n  };\n\n  var handleCanvas = function handleCanvas(payload) {\n    var iframe = payload.iframe,\n        canvas = payload.canvas;\n    var oIframwWindow = iframe.getWindow();\n    var jsPDF = oIframwWindow.jspdf.jsPDF;\n    var doc = new jsPDF(\"\", \"pt\", \"a4\");\n    var image = canvas.toDataURL(\"image/jpeg\", 1.0); // paper size\n    // https://web.archive.org/web/20200906132355/https://prawnpdf.org/docs/0.11.1/Prawn/Document/PageGeometry.html\n\n    var _ratio = ratio(canvas.width, canvas.height, 595.28, 841.89),\n        newWH = _ratio.newWH,\n        newWHLoc = _ratio.newWHLoc;\n\n    console.log({\n      newWH: newWH,\n      newWHLoc: newWHLoc\n    });\n    doc.addImage(image, \"JPEG\", newWHLoc.x, newWHLoc.y, newWH.w, newWH.h);\n    doc.save(\"test.pdf\");\n  };\n\n  useImperativeHandle(ref, function () {\n    download: (function () {});\n  });\n  return /*#__PURE__*/React.createElement(HTMLToCanvas, {\n    onCanvas: handleCanvas,\n    ref: handleRefCanvas,\n    jsArr: [getAsset(\"jspdf\")]\n  });\n};\n\n_s(HTMLToPDF, \"U7eCHviuayJRXMYRmtNxmbPztdU=\", false, function () {\n  return [useImperativeHandle];\n});\n\n_c = HTMLToPDF;\nexport default /*#__PURE__*/_c2 = forwardRef(HTMLToPDF);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"HTMLToPDF\");\n$RefreshReg$(_c2, \"%default%\");\n\n__react_refresh_utils__.registerExportsForReactRefresh(module);\n\nif (module.hot && __react_refresh_utils__.isReactRefreshBoundary(module)) {\n  module.hot.dispose(__react_refresh_utils__.createHotDisposeCallback(module));\n  module.hot.accept(__react_refresh_utils__.createHotErrorHandler(module.id));\n\n  if (!!module.hot.data && !!Object.keys(module.hot.data).length) {\n    if (!module.hot.data.module || __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(module.hot.data.module, module)) {\n      window.location.reload();\n    }\n\n    __react_refresh_utils__.enqueueUpdate();\n  }\n}"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}