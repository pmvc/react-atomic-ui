(()=>{var b=[,()=>{Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,f){if(this==null)throw new TypeError('"this" is null or not defined');var d=Object(this),a=d.length>>>0;if(0===a)return!1;var b=0|f,c=Math.max(b>=0?b:a-Math.abs(b),0);function g(a,b){return a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)}for(;c<a;){if(g(d[c],e))return!0;c++}return!1}}),String.prototype.includes||(String.prototype.includes=function(b,a){if(b instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===a&&(a=0),-1!==this.indexOf(b,a)})}],c={};function a(d){var f=c[d];if(void 0!==f)return f.exports;var e=c[d]={exports:{}};return b[d](e,e.exports,a),e.exports}a.d=(d,c)=>{for(var b in c)a.o(c,b)&&!a.o(d,b)&&Object.defineProperty(d,b,{enumerable:!0,get:c[b]})},a.o=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),a.r=a=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var d={};(()=>{"use strict";var d={};a.r(d),a.d(d,{Graph:()=>a$,version:()=>a7});var e={};a.r(e),a.d(e,{components:()=>a8,dijkstra:()=>bb,dijkstraAll:()=>bf,findCycles:()=>bj,floydWarshall:()=>bl,isAcyclic:()=>bq,postorder:()=>bB,preorder:()=>bD,prim:()=>bF,tarjan:()=>bh,topsort:()=>bp});var f={};a.r(f),a.d(f,{Graph:()=>bL,alg:()=>e});var g={};a.r(g),a.d(g,{addBorderNode:()=>b0,addDummyNode:()=>bT,asNonCompoundGraph:()=>bV,buildLayerMatrix:()=>bZ,intersectRect:()=>bY,maxRank:()=>b1,normalizeRanks:()=>b$,notime:()=>b4,partition:()=>b2,predecessorWeights:()=>bX,removeEmptyRanks:()=>b_,simplify:()=>bU,successorWeights:()=>bW,time:()=>b3});var H="default",j="function",k="number",l="object",m="string",I="symbol",J="script",n="undefined",K="TypeError",L=void 0,M=null,N=!0,O=!1,P=Object.keys,Q=Array.isArray,R=function(a){return a?P(a).length:0},S=function(){return Object.create(null)},T=function(a,b){return!!(a&&Object.prototype.hasOwnProperty.call(a,b))},U="--rtime-url--",V="--rtime-data--",o=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a};let W=o;var X="|boolean|"+k+"|"+m+"|"+l+"|"+j+"|"+n+"|",Y=function(a,b){return -1===X.indexOf("|"+a+"|")?(b||(b=a),b):a},Z=function(a,b){var c=Object.prototype.toString.call(a).replace(/^\[object\s(.*)\]$/,"$1").toLowerCase();return Y(c,b)},p=function(a,b){if(null==a)return Z(a,b);try{var c=Object.getPrototypeOf(a).constructor.name.toLowerCase();return Y(c,b)}catch(d){return Z(a,b)}};let $=p;function _(c){for(var a=1,e=arguments.length;a<e;a++)if(a%2||!Object.getOwnPropertyDescriptors){var d=null!=arguments[a]?arguments[a]:{},b=P(d);$(Object.getOwnPropertySymbols)===j&&(b=b.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable}))),b.forEach(function(a){W(c,a,d[a])})}else Object.defineProperties(c,Object.getOwnPropertyDescriptors(arguments[a]));return c}var q=function(a){if(!Array.isArray(a)&&Array.from)return Array.from(a);for(var b=0,c=Array(a.length),d=a.length;b<d;b++)c[b]=a[b];return c};let aa=q;var r=function(b,c,d,a){return void 0===c&&(c=[]),void 0===d&&(d=L),void 0===a&&(a=L),j===typeof b?b.apply(d,c):n!==typeof a?a:b};let ab=r;var ac=function(b,a,c){a=null!==(d=a)&& void 0!==d?d:250;var d,e=!1,f=!1,g=function(a){var{args:c,scope:d}=a||{};f=!1,callfunc(b,c,d)};return function(b){f=!0,e||(e=!0,g(b),setTimeout(function(){e=!1,c&&f&&g(b)},a))}},ad=function(a,b){var c;return function(d){var{delay:e=250,args:f,scope:g}=d||{};clearTimeout(c),c=setTimeout(function(){return callfunc(a,f,g)},null!=b?b:e)}},ae=function(a,b,c){return function(){for(var e=arguments.length,f=new Array(e),d=0;d<e;d++)f[d]=arguments[d];return callfunc(b||a,f,c)}},af={el:0,opt:0},ag={},ah="data-event-wrap-id",ai=function(a){var b=a.getAttribute?a.getAttribute(ah):a[ah];b||(b=++af.el,a.setAttribute?a.setAttribute(ah,b):a[ah]=b);var c=ag[b];return c||(c=new aj(b,a),ag[b]=c),c},aj=null,ak=function(a){return ai(a)},al=function(a){KEYS(ag).forEach(function(b){ag[b].cleanAll(a)})},s=function(a,b){return j===typeof a?a(b):null!=a?a:b};let am=s;var an=function(a,c){var b;return null!==(b=a.size&&ab(a.get,[c],a))&& void 0!==b?b:a[c]},t=function(d,a,c){if(void 0===a&&(a=[]),void 0===c&&(c=L),null==d)return am(c,d);var b=d;if(!a||!Q(a)||!a.length)return b;try{for(var f=a.length,g=a.length-1;f--;){var h=a[g-f];if(null!=b){var e=an(b,h);if(n!==typeof e)b=e;else{b=am(c,e);break}}else{b=am(c);break}}}catch(i){console.warn({e:i}),b=am(c)}return b};let ao=t;var ap=function(a,c){var b;return null!==(b=a&&a.size&&callfunc(a.has,[c],a))&& void 0!==b?b:HAS(a,c)},aq=function(a){return get(a,[DEFAULT,DEFAULT],function(){return get(a,[DEFAULT],function(){return a})})},ar=function(b,c){var a=get(b,c,NEW_OBJ()),d=NEW_OBJ();return a.forEach?a.forEach(function(a,b){return d[b]=toJS(a)}):KEYS(a).forEach(function(b){return d[b]=toJS(a[b])}),d},as=function(a){return function(b,c){return a[b]||(a[b]=getDefaultValue(c))}},u=function(a,b){return a&&a.filter?b?a.filter(function(a,b,c){return c.lastIndexOf(a)===b}):a.filter(function(a,b,c){return c.indexOf(a)===b}):a};let at=u;var au=function(d,c){for(var b=0,e=c.length;b<e;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}},v=function(a,b,c){return b&&au(a.prototype,b),c&&au(a,c),a};let w=v;function x(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}let av=x;var aw=a(1),ax={__null:!0},ay=function(a,b){void 0===a&&(a=T_UNDEFINED),void 0===b&&(b=ax);var c=(a||aA()).document;return UNDEFINED!==typeof c?c:b},az=function(a){return void 0===a&&(a="__null"),!aA()[a]},aA=function(a){return void 0===a&&(a=ax),"undefined"!=typeof window?window:a},y=w(function c(b){var f=this;if(av(this,c),W(this,"callbacks",[]),W(this,"addEventListener",function(b,a){return f.callbacks.push(a)}),W(this,"postMessage",function(a){f.onmessage({data:a})}),this.post=function(a){var b={data:a};f.callbacks.forEach(function(a){return a(b)})},this.onmessage=b,aA().__null){try{onmessage=b}catch(d){console.error(d)}try{var a=postMessage;a&&(a({type:"ready"}),this.post=a)}catch(e){console.error(e)}}});let z=y;var aB=function(a){return null!=a?new Date(a):new Date},aC=function(a){return+aB(a)},aD=function(a,b,d,e){var f=aC(),c=!0;return null==a||isNaN(a)||b&&!(f-a<=b)||(c=!1),c?callfunc(e):callfunc(d)},aE={},aF=function(a){var b;return aE[a]=null!==(b=aE[a])&& void 0!==b?b:0,(a||"")+"_"+aE[a]++},aG=function(){return aC()+""+Math.random()},aH=function(a){return Q(a)&&a.length},aI=function(a){return!a||!R(a)},aJ=function(a){return aa(Array(a).keys())},aK=function(a,e,c,f){for(var g=-1,b=Math.max(Math.ceil((e-a)/(c||1)),0),d=Array(b);b--;)d[f?b:++g]=a,a+=c;return d},aL=function f(e,b,c){c--;for(var d=0,g=e.length;d<g;d++){var a=e[d];a&&(c> -1&&aH(a)?f(a,b,c):b.push(a))}return b},aM=function(b,e){var c={},a=P(b);a.forEach(function(a){var d=e(b[a],a);isNaN(d)||(c[a]=d)});var f=aU(aS(c)),d=null;return a.some(function(a){return f===c[a]&&(d=b[a],!0)}),d},aN=function(a,c){var b;return P(a).some(function(d){return!!c(a[d],d)&&(b=a[d],!0)}),b},aO=function(a,b){var c={};return R(a)&&b.forEach(function(b){T(a,b)&&(c[b]=a[b])}),c},aP=function(a,c){var b={};return P(a).forEach(function(d){return b[d]=c(a[d],d)}),b},aQ=function(a,c){var b={};return a.forEach(function(a,d){b[a]=c[d]}),b},aR=function(){return aA().Date.now()},aS=function(a){return a&&P(a).map(function(b){return a[b]})},aT=function(b){for(var c=arguments.length,d=new Array(c>1?c-1:0),a=1;a<c;a++)d[a-1]=arguments[a];return aH(b)?Math.max.apply(Math,aa(b)):Math.max.apply(Math,[b].concat(d))},aU=function(b){for(var c=arguments.length,d=new Array(c>1?c-1:0),a=1;a<c;a++)d[a-1]=arguments[a];return aH(b)?Math.min.apply(Math,aa(b)):Math.min.apply(Math,[b].concat(d))},aV=function(a){return j===typeof a},aW=function(a){return n===typeof a},h=function(a){return function(){return a}},aX=function(){for(var d=[],b=arguments.length,c=new Array(b),a=0;a<b;a++)c[a]=arguments[a];return c.forEach(function(a){d=[].concat(aa(d),aa(a))}),at(d)},aY=function(a,c,b){return P(a).forEach(function(d){c(b,a[d])}),b},aZ=Object.keys;let a$=b;var a_="\0",a0="\0",a1="\x01";function b(a){this._isDirected=!T(a,"directed")||a.directed,this._isMultigraph=!!T(a,"multigraph")&&a.multigraph,this._isCompound=!!T(a,"compound")&&a.compound,this._label=void 0,this._defaultNodeLabelFn=h(void 0),this._defaultEdgeLabelFn=h(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[a0]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a2(a,b){a[b]?a[b]++:a[b]=1}function a3(a,b){--a[b]||delete a[b]}function a4(d,e,f,c){var a=""+e,b=""+f;if(!d&&a>b){var g=a;a=b,b=g}return a+a1+b+a1+(aW(c)?a_:c)}function a5(e,f,g,c){var a=""+f,b=""+g;if(!e&&a>b){var h=a;a=b,b=h}var d={v:a,w:b};return c&&(d.name=c),d}function a6(b,a){return a4(b,a.v,a.w,a.name)}b.prototype._nodeCount=0,b.prototype._edgeCount=0,b.prototype.isDirected=function(){return this._isDirected},b.prototype.isMultigraph=function(){return this._isMultigraph},b.prototype.isCompound=function(){return this._isCompound},b.prototype.setGraph=function(a){return this._label=a,this},b.prototype.graph=function(){return this._label},b.prototype.setDefaultNodeLabel=function(a){return aV(a)||(a=h(a)),this._defaultNodeLabelFn=a,this},b.prototype.nodeCount=function(){return this._nodeCount},b.prototype.nodes=function(){return aZ(this._nodes)},b.prototype.sources=function(){var a=this;return this.nodes().filter(function(b){return aI(a._in[b])})},b.prototype.sinks=function(){var a=this;return this.nodes().filter(function(b){return aI(a._out[b])})},b.prototype.setNodes=function(a,b){var c=arguments,d=this;return a.forEach(function(a){c.length>1?d.setNode(a,b):d.setNode(a)}),this},b.prototype.setNode=function(a,b){return T(this._nodes,a)?(arguments.length>1&&(this._nodes[a]=b),this):(this._nodes[a]=arguments.length>1?b:this._defaultNodeLabelFn(a),this._isCompound&&(this._parent[a]=a0,this._children[a]={},this._children[a0][a]=!0),this._in[a]={},this._preds[a]={},this._out[a]={},this._sucs[a]={},++this._nodeCount,this)},b.prototype.node=function(a){return this._nodes[a]},b.prototype.hasNode=function(a){return T(this._nodes,a)},b.prototype.removeNode=function(a){var c=this;if(T(this._nodes,a)){var b=function(a){c.removeEdge(c._edgeObjs[a])};delete this._nodes[a],this._isCompound&&(this._removeFromParentsChildList(a),delete this._parent[a],this.children(a).forEach(function(a){c.setParent(a)}),delete this._children[a]),aZ(this._in[a]).forEach(b),delete this._in[a],delete this._preds[a],aZ(this._out[a]).forEach(b),delete this._out[a],delete this._sucs[a],--this._nodeCount}return this},b.prototype.setParent=function(b,a){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(aW(a))a=a0;else{a+="";for(var c=a;!aW(c);c=this.parent(c))if(c===b)throw new Error("Setting "+a+" as parent of "+b+" would create a cycle");this.setNode(a)}return this.setNode(b),this._removeFromParentsChildList(b),this._parent[b]=a,this._children[a][b]=!0,this},b.prototype._removeFromParentsChildList=function(a){delete this._children[this._parent[a]][a]},b.prototype.parent=function(b){if(this._isCompound){var a=this._parent[b];if(a!==a0)return a}},b.prototype.children=function(a){if(aW(a)&&(a=a0),this._isCompound){var b=this._children[a];if(b)return aZ(b)}else if(a===a0)return this.nodes();else if(this.hasNode(a))return[]},b.prototype.predecessors=function(b){var a=this._preds[b];if(a)return aZ(a)},b.prototype.successors=function(b){var a=this._sucs[b];if(a)return aZ(a)},b.prototype.neighbors=function(a){var b=this.predecessors(a);if(b)return aX(b,this.successors(a))},b.prototype.isLeaf=function(a){var b;return 0===(this.isDirected()?this.successors(a):this.neighbors(a)).length},b.prototype.filterNodes=function(b){var a=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});a.setGraph(this.graph());var c=this;this._nodes.forEach(function(d,c){b(c)&&a.setNode(c,d)}),this._edgeObjs.forEach(function(b){a.hasNode(b.v)&&a.hasNode(b.w)&&a.setEdge(b,c.edge(b))});var d={};function e(f){var b=c.parent(f);return void 0===b||a.hasNode(b)?(d[f]=b,b):b in d?d[b]:e(b)}return this._isCompound&&a.nodes().forEach(function(b){a.setParent(b,e(b))}),a},b.prototype.setDefaultEdgeLabel=function(a){return aV(a)||(a=h(a)),this._defaultEdgeLabelFn=a,this},b.prototype.edgeCount=function(){return this._edgeCount},b.prototype.edges=function(){return aS(this._edgeObjs)},b.prototype.setPath=function(a,b){var c=this,d=arguments;return a.reduce(function(e,a){return d.length>1?c.setEdge(e,a,b):c.setEdge(e,a),a}),this},b.prototype.setEdge=function(){var a,b,c,g,h=!1,d=arguments[0];"object"==typeof d&&null!==d&&"v"in d?(a=d.v,b=d.w,c=d.name,2===arguments.length&&(g=arguments[1],h=!0)):(a=d,b=arguments[1],c=arguments[3],arguments.length>2&&(g=arguments[2],h=!0)),a=""+a,b=""+b,aW(c)||(c=""+c);var e=a4(this._isDirected,a,b,c);if(T(this._edgeLabels,e))return h&&(this._edgeLabels[e]=g),this;if(!aW(c)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(b),this._edgeLabels[e]=h?g:this._defaultEdgeLabelFn(a,b,c);var f=a5(this._isDirected,a,b,c);return a=f.v,b=f.w,Object.freeze(f),this._edgeObjs[e]=f,a2(this._preds[b],a),a2(this._sucs[a],b),this._in[b][e]=f,this._out[a][e]=f,this._edgeCount++,this},b.prototype.edge=function(a,b,c){var d=1===arguments.length?a6(this._isDirected,arguments[0]):a4(this._isDirected,a,b,c);return this._edgeLabels[d]},b.prototype.hasEdge=function(a,b,c){var d=1===arguments.length?a6(this._isDirected,arguments[0]):a4(this._isDirected,a,b,c);return T(this._edgeLabels,d)},b.prototype.removeEdge=function(a,b,e){var c=1===arguments.length?a6(this._isDirected,arguments[0]):a4(this._isDirected,a,b,e),d=this._edgeObjs[c];return d&&(a=d.v,b=d.w,delete this._edgeLabels[c],delete this._edgeObjs[c],a3(this._preds[b],a),a3(this._sucs[a],b),delete this._in[b][c],delete this._out[a][c],this._edgeCount--),this},b.prototype.inEdges=function(c,d){var a=this._in[c];if(a){var b=aS(a);return d?b.filter(function(a){return a.v===d}):b}},b.prototype.outEdges=function(c,d){var a=this._out[c];if(a){var b=aS(a);return d?b.filter(function(a){return a.w===d}):b}},b.prototype.nodeEdges=function(a,b){var c=this.inEdges(a,b);if(c)return c.concat(this.outEdges(a,b))};let a7="2.1.8-pre",a8=a9;function a9(a){var c,d={},b=[];function e(b){T(d,b)||(d[b]=!0,c.push(b),a.successors(b).forEach(e),a.predecessors(b).forEach(e))}return a.nodes().forEach(function(a){c=[],e(a),c.length&&b.push(c)}),b}let ba=c;function c(){this._arr=[],this._keyIndices={}}c.prototype.size=function(){return this._arr.length},c.prototype.keys=function(){return this._arr.map(function(a){return a.key})},c.prototype.has=function(a){return T(this._keyIndices,a)},c.prototype.priority=function(b){var a=this._keyIndices[b];if(void 0!==a)return this._arr[a].priority},c.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},c.prototype.add=function(a,e){var b=this._keyIndices;if(!T(b,a=String(a))){var c=this._arr,d=c.length;return b[a]=d,c.push({key:a,priority:e}),this._decrease(d),!0}return!1},c.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var a=this._arr.pop();return delete this._keyIndices[a.key],this._heapify(0),a.key},c.prototype.decrease=function(c,b){var a=this._keyIndices[c];if(b>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+c+" Old: "+this._arr[a].priority+" New: "+b);this._arr[a].priority=b,this._decrease(a)},c.prototype._heapify=function(c){var b=this._arr,d=2*c,e=d+1,a=c;d<b.length&&(a=b[d].priority<b[a].priority?d:a,e<b.length&&(a=b[e].priority<b[a].priority?e:a),a!==c&&(this._swap(c,a),this._heapify(a)))},c.prototype._decrease=function(a){for(var b,c=this._arr,d=c[a].priority;0!==a&&!(c[b=a>>1].priority<d);)this._swap(a,b),a=b},c.prototype._swap=function(b,c){var a=this._arr,d=this._keyIndices,e=a[b],f=a[c];a[b]=f,a[c]=e,d[f.key]=b,d[e.key]=c};let bb=bd;var bc=h(1);function bd(a,b,c,d){return be(a,String(b),c||bc,d||function(b){return a.outEdges(b)})}function be(d,g,h,e){var a,f,b={},c=new ba;for(d.nodes().forEach(function(a){var d=a===g?0:Number.POSITIVE_INFINITY;b[a]={distance:d},c.add(a,d)});c.size()>0&&(f=b[a=c.removeMin()]).distance!==Number.POSITIVE_INFINITY;)e(a).forEach(function(d){var j=d.v!==a?d.v:d.w,e=b[j],g=h(d),i=f.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+d+" Weight: "+g);i<e.distance&&(e.distance=i,e.predecessor=a,c.decrease(j,i))});return b}let bf=bg;function bg(a,b,c){return aY(a.nodes(),function(e,d){e[d]=bb(a,d,b,c)},{})}let bh=bi;function bi(a){var c=0,d=[],e={},b=[];function f(g){var i=e[g]={onStack:!0,lowlink:c,index:c++};if(d.push(g),a.successors(g).forEach(function(a){T(e,a)?e[a].onStack&&(i.lowlink=Math.min(i.lowlink,e[a].index)):(f(a),i.lowlink=Math.min(i.lowlink,e[a].lowlink))}),i.lowlink===i.index){var h,j=[];do e[h=d.pop()].onStack=!1,j.push(h);while(g!==h)b.push(j)}}return a.nodes().forEach(function(a){T(e,a)||f(a)}),b}let bj=bk;function bk(a){return bh(a).filter(function(b){return b.length>1||1===b.length&&a.hasEdge(b[0],b[0])})}let bl=bn;var bm=h(1);function bn(a,b,c){return bo(a,b||bm,c||function(b){return a.outEdges(b)})}function bo(b,d,e){var c={},a=b.nodes();return a.forEach(function(b){c[b]={},c[b][b]={distance:0},a.forEach(function(a){b!==a&&(c[b][a]={distance:Number.POSITIVE_INFINITY})}),e(b).forEach(function(a){var e=a.v===b?a.w:a.v,f=d(a);c[b][e]={distance:f,predecessor:b}})}),a.forEach(function(b){var d=c[b];a.forEach(function(e){var f=c[e];a.forEach(function(c){var h=f[b],e=d[c],a=f[c],g=h.distance+e.distance;g<a.distance&&(a.distance=g,a.predecessor=e.predecessor)})})}),c}let bp=A;function A(a){var b={},e={},c=[];function d(f){if(T(e,f))throw new i;T(b,f)||(e[f]=!0,b[f]=!0,a.predecessors(f).forEach(d),delete e[f],c.push(f))}if(a.sinks().forEach(d),R(b)!==a.nodeCount())throw new i;return c}function i(){}A.CycleException=i,i.prototype=new Error;let bq=br;function br(b){try{bp(b)}catch(a){if(a instanceof bp.CycleException)return!1;throw a}return!0}var bs=function(a){return KEYS(a||{}).map(function(b){return a[b]})},bt=function(a,e){var b={};if(IS_ARRAY(a))for(var c=a.length;c--;){var d=a[c];b[d[e]]=d}return b},bu=function(a){return IS_ARRAY(a)?a.length>1?a:a[0]:a},bv=function(a){return T_NULL==a||!isNaN(parseInt(a))||STRING===typeof a},bw=function(a){return B(a,bv)},B=function(a,b){return(b=b||function(a){return!Q(a)})(a)?a===L?[]:[a]:a};let bx=B,by=bz;function bz(a,b,d){var e=(a.isDirected()?a.successors:a.neighbors).bind(a),c=[],f={};return bx(b).forEach(function(b){if(!a.hasNode(b))throw new Error("Graph does not have node: "+b);bA(a,b,"post"===d,f,e,c)}),c}function bA(f,a,b,c,e,d){!T(c,a)&&(c[a]=!0,b||d.push(a),e(a).forEach(function(a){bA(f,a,b,c,e,d)}),b&&d.push(a))}let bB=bC;function bC(a,b){return by(a,b,"post")}let bD=bE;function bE(a,b){return by(a,b,"pre")}let bF=bG;function bG(a,h){var b,c=new a$,e={},d=new ba;function g(a){var c=a.v===b?a.w:a.v,f=d.priority(c);if(void 0!==f){var g=h(a);g<f&&(e[c]=b,d.decrease(c,g))}}if(0===a.nodeCount())return c;a.nodes().forEach(function(a){d.add(a,Number.POSITIVE_INFINITY),c.setNode(a)}),d.decrease(a.nodes()[0],0);for(var f=!1;d.size()>0;){if(T(e,b=d.removeMin()))c.setEdge(b,e[b]);else if(f)throw new Error("Input graph is not connected: "+a);else f=!0;a.nodeEdges(b).forEach(g)}return c}function bH(a){return a.nodes().map(function(b){var d=a.node(b),e=a.parent(b),c={v:b};return aW(d)||(c.value=d),aW(e)||(c.parent=e),c})}function bI(a){return a.edges().map(function(b){var d=a.edge(b),c={v:b.v,w:b.w};return aW(b.name)||(c.name=b.name),aW(d)||(c.value=d),c})}var bJ=function(a){var b={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:bH(a),edges:bI(a)};return aW(a.graph())||(b.value=_({},a.graph())),b},bK=function(a){var b=new a$(a.options).setGraph(a.value);return a.nodes.forEach(function(a){b.setNode(a.v,a.value),a.parent&&b.setParent(a.v,a.parent)}),a.edges.forEach(function(a){b.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),b},{Graph:bL,version:bM}=d;function C(a){var c={};function b(e){var f=a.node(e);if(c.v)return f.rank;c[e]=!0;var d=aU(a.outEdges(e).map(function(c){return b(c.w)-a.edge(c).minlen}));return(d===Number.POSITIVE_INFINITY||null==d)&&(d=0),f.rank=d}a.sources().forEach(b)}function bN(a,b){return a.node(b.w).rank-a.node(b.v).rank-a.edge(b).minlen}let bO=bP;function bP(a){var c,d,b=new bL({directed:!1}),e=a.nodes()[0],f=a.nodeCount();for(b.setNode(e,{});bQ(b,a)<f;)c=bR(b,a),d=b.hasNode(c.v)?bN(a,c):-bN(a,c),bS(b,a,d);return b}function bQ(a,c){function b(d){c.nodeEdges(d).forEach(function(f){var g=f.v,e=d===g?f.w:g;a.hasNode(e)||bN(c,f)||(a.setNode(e,{}),a.setEdge(d,e,{}),b(e))})}return a.nodes().forEach(b),a.nodeCount()}function bR(b,a){return aM(a.edges(),function(c){if(b.hasNode(c.v)!==b.hasNode(c.w))return bN(a,c)})}function bS(a,b,c){a.nodes().forEach(function(a){b.node(a).rank+=c})}function bT(b,d,c,e){var a;do a=aF(e);while(b.hasNode(a))return c.dummy=d,b.setNode(a,c),a}function bU(a){var b=new bL().setGraph(a.graph());return a.nodes().forEach(function(c){b.setNode(c,a.node(c))}),a.edges().forEach(function(c){var d=b.edge(c.v,c.w)||{weight:0,minlen:1},e=a.edge(c);b.setEdge(c.v,c.w,{weight:d.weight+e.weight,minlen:Math.max(d.minlen,e.minlen)})}),b}function bV(a){var b=new bL({multigraph:a.isMultigraph()}).setGraph(a.graph());return a.nodes().forEach(function(c){a.children(c).length||b.setNode(c,a.node(c))}),a.edges().forEach(function(c){b.setEdge(c,a.edge(c))}),b}function bW(a){var b=a.nodes().map(function(b){var c={};return a.outEdges(b).forEach(function(b){c[b.w]=(c[b.w]||0)+a.edge(b).weight}),c});return aQ(a.nodes(),b)}function bX(a){var b=a.nodes().map(function(b){var c={};return a.inEdges(b).forEach(function(b){c[b.v]=(c[b.v]||0)+a.edge(b).weight}),c});return aQ(a.nodes(),b)}function bY(e,h){var f,g,i=e.x,j=e.y,a=h.x-i,b=h.y-j,c=e.width/2,d=e.height/2;if(!a&&!b)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(b)*c>Math.abs(a)*d?(b<0&&(d=-d),f=d*a/b,g=d):(a<0&&(c=-c),f=c,g=c*b/a),{x:i+f,y:j+g}}function bZ(a){var b=aJ(b1(a)+1).map(function(){return[]});return a.nodes().forEach(function(c){var d=a.node(c),e=d.rank;void 0!==e&&(b[e][d.order]=c)}),b}function b$(a){var b=aU(a.nodes().map(function(b){return a.node(b).rank}));a.nodes().forEach(function(d){var c=a.node(d);void 0!==c.rank&&(c.rank-=b)})}function b_(a){var c=aU(a.nodes().map(function(b){return a.node(b).rank})),b=[];a.nodes().forEach(function(e){var d=a.node(e).rank-c;b[d]||(b[d]=[]),b[d].push(e)});var d=0,e=a.graph().nodeRankFactor;b.forEach(function(b,c){void 0===b&&c%e!=0?--d:d&&b.forEach(function(b){a.node(b).rank+=d})})}function b0(b,c,d,e){var a={width:0,height:0};return arguments.length>=4&&(a.rank=d,a.order=e),bT(b,"border",a,c)}function b1(c,a){a||(a=c.nodes());var b=a.map(function(b){var a=c.node(b).rank;if(void 0!==a)return a});return b.length?aT(b):0}function b2(a,c){var b={lhs:[],rhs:[]};return a.forEach(function(a){c(a)?b.lhs.push(a):b.rhs.push(a)}),b}function b3(a,b){var c=aR();try{return b()}finally{console.log(a+" time: "+(aR()-c)+"ms")}}function b4(b,a){return a()}var{preorder:b5,postorder:b6}=e,b7=Object.keys;let b8=b9;function b9(a){a=bU(a),C(a);var c,d,b=bO(a);for(cd(b),ca(b,a);c=cf(b);)d=cg(b,a,c),ch(b,a,c,d)}function ca(b,c){var a=b6(b,b.nodes());(a=a.slice(0,a.length-1)).forEach(function(a){cb(b,c,a)})}function cb(a,c,b){var d=a.node(b).parent;a.edge(b,d).cutvalue=cc(a,c,b)}function cc(f,b,a){var d=f.node(a).parent,g=!0,c=b.edge(a,d),e=0;return c||(g=!1,c=b.edge(d,a)),e=c.weight,b.nodeEdges(a).forEach(function(c){var i=c.v===a,h=i?c.w:c.v;if(h!==d){var j=i===g,k=b.edge(c).weight;if(e+=j?k:-k,cj(f,a,h)){var l=f.edge(a,h).cutvalue;e+=j?-l:l}}}),e}function cd(a,b){arguments.length<2&&(b=a.nodes()[0]),ce(a,{},1,b)}function ce(d,f,b,c,e){var g=b,a=d.node(c);return f[c]=!0,d.neighbors(c).forEach(function(a){f[a]||(b=ce(d,f,b,a,c))}),a.low=g,a.lim=b++,e?a.parent=e:delete a.parent,b}function cf(a){return aN(a.edges(),function(b){return a.edge(b).cutvalue<0})}function cg(d,e,a){var b=a.v,c=a.w;e.hasEdge(b,c)||(b=a.w,c=a.v);var j,f=d.node(b),g=d.node(c),h=f,i=!1;return f.lim>g.lim&&(h=g,i=!0),aM(e.edges().filter(function(a){return i===ck(d,d.node(a.v),h)&&i!==ck(d,d.node(a.w),h)}),function(a){return bN(e,a)})}function ch(a,b,c,d){var e=c.v,f=c.w;a.removeEdge(e,f),a.setEdge(d.v,d.w,{}),cd(a),ca(a,b),ci(a,b)}function ci(a,d){var c=aN(a.nodes(),function(a){return!d.node(a).parent}),b=b5(a,c);(b=b.slice(1)).forEach(function(b){var e=a.node(b).parent,c=d.edge(b,e),f=!1;c||(c=d.edge(e,b),f=!0),d.node(b).rank=d.node(e).rank+(f?c.minlen:-c.minlen)})}function cj(a,b,c){return a.hasEdge(b,c)}function ck(c,a,b){return b.low<=a.lim&&a.lim<=b.lim}let cl=cm;function cm(a){switch(a.graph().ranker){case"tight-tree":co(a);break;case"longest-path":cn(a);break;default:cp(a)}}var cn=C;function co(a){C(a),bO(a)}function cp(a){b8(a)}let cq=cr;function cr(a,d,e){var b=cs(a),c=new bL({compound:!0}).setGraph({root:b}).setDefaultNodeLabel(function(b){return a.node(b)});return a.nodes().forEach(function(f){var g=a.node(f),h=a.parent(f);(g.rank===d||g.minRank<=d&&d<=g.maxRank)&&(c.setNode(f),c.setParent(f,h||b),a[e](f).forEach(function(b){var d=b.v===f?b.w:b.v,e=c.edge(d,f),g=void 0!==e?e.weight:0;c.setEdge(d,f,{weight:a.edge(b).weight+g})}),void 0!==g.minRank&&c.setNode(f,{borderLeft:g.borderLeft[d],borderRight:g.borderRight[d]}))}),c}function cs(b){for(var a;b.hasNode(a=aF("_root")););return a}let ct=cv;var cu=Object.keys;function cv(a,b){var c={};a.forEach(function(a,d){var b=c[a.v]={indegree:0,in:[],out:[],vs:[a.v],i:d};void 0!==a.barycenter&&(b.barycenter=a.barycenter,b.weight=a.weight)}),b.edges().forEach(function(a){var b=c[a.v],d=c[a.w];void 0!==b&& void 0!==d&&(d.indegree++,b.out.push(c[a.w]))});var d=cu(c).filter(function(a){return!c[a].indegree}).map(function(a){return c[a]});return cw(d)}function cw(b){var c=[];function d(a){return function(b){!b.merged&&(void 0===b.barycenter|| void 0===a.barycenter||b.barycenter>=a.barycenter)&&cx(a,b)}}function e(a){return function(c){c.in.push(a),0== --c.indegree&&b.push(c)}}for(;b.length;){var a=b.pop();c.push(a),a.in.reverse().forEach(d(a)),a.out.forEach(e(a))}return c.filter(function(a){return!a.merged}).map(function(a){return aO(a,["vs","i","barycenter","weight"])}).map(function(a){return a})}function cx(a,b){var d=0,c=0;a.weight&&(d+=a.barycenter*a.weight,c+=a.weight),b.weight&&(d+=b.barycenter*b.weight,c+=b.weight),a.vs=b.vs.concat(a.vs),a.barycenter=d/c,a.weight=c,a.i=Math.min(b.i,a.i),b.merged=!0}let cy=cz;function cz(g,h){var c=b2(g,function(a){return void 0!==a.barycenter}),d=c.lhs,i=c.rhs.sort(function(a){return-a.i}),e=[],j=0,a=0,f=0;d.sort(cB(!!h)),f=cA(e,i,f),d.forEach(function(b){f+=b.vs.length,e.push(b.vs),j+=b.barycenter*b.weight,a+=b.weight,f=cA(e,i,f)});var b={vs:aL(e,[],1)};return a&&(b.barycenter=j/a,b.weight=a),b}function cA(d,a,b){for(var c;a.length&&(c=a.slice(-1)[0]).i<=b;)a.pop(),d.push(c.vs),b++;return b}function cB(a){return function(b,c){return b.barycenter<c.barycenter?-1:b.barycenter>c.barycenter?1:a?c.i-b.i:b.i-c.i}}let cC=cD;function cD(b,a){return a.map(function(a){var d=b.inEdges(a);if(!d.length)return{v:a};var c=d.reduce(function(a,c){var d=b.edge(c),e=b.node(c.v);return{sum:a.sum+d.weight*e.order,weight:a.weight+d.weight}},{sum:0,weight:0});return{v:a,barycenter:c.sum/c.weight,weight:c.weight}})}let cE=cF;function cF(b,f,j,k){var e=b.children(f),d=b.node(f),c=d?d.borderLeft:void 0,g=d?d.borderRight:void 0,l={};c&&(e=e.filter(function(a){return a!==c&&a!==g}));var h=cC(b,e);h.forEach(function(a){if(b.children(a.v).length){var c=cF(b,a.v,j,k);l[a.v]=c,c.barycenter&&cH(a,c)}});var i=ct(h,j);cG(i,l);var a=cy(i,k);if(c&&(a.vs=aL([c,a.vs,g],[],1),b.predecessors(c).length)){var m=b.node(b.predecessors(c)[0]),n=b.node(b.predecessors(g)[0]);void 0===a.barycenter&&(a.barycenter=0,a.weight=0),a.barycenter=(a.barycenter*a.weight+m.order+n.order)/(a.weight+2),a.weight+=2}return a}function cG(a,b){a.forEach(function(a){a.vs=aL(a.vs.map(function(a){return b[a]?b[a].vs:a}),[],1)})}function cH(a,b){void 0!==a.barycenter?(a.barycenter=(a.barycenter*a.weight+b.barycenter*b.weight)/(a.weight+b.weight),a.weight+=b.weight):(a.barycenter=b.barycenter,a.weight=b.weight)}var D=function(b,c,a){var d,e={};a.forEach(function(h){for(var g,f,a=b.parent(h);a;){if((g=b.parent(a))?(f=e[g],e[g]=a):(f=d,d=a),f&&f!==a){c.setEdge(f,a);return}a=g}})};let cI=D,cJ=cK;function cK(a){var f={},b=a.nodes().filter(function(b){return!a.children(b).length}),c=b1(a,b),d=aJ(c+1).map(function(){return[]});function e(b){!f[b]&&(f[b]=!0,d[a.node(b).rank].push(b),a.successors(b).forEach(e))}return b.sort(function(b){return a.node(b).rank}).forEach(e),d}let cL=cM;function cM(d,b){for(var c=0,a=1;a<b.length;++a)c+=cN(d,b[a-1],b[a]);return c}function cN(g,c,b){for(var h=aQ(b,b.map(function(b,a){return a})),d=aL(c.map(function(a){return g.outEdges(a).map(function(a){return{pos:h[a.w],weight:g.edge(a).weight}}).sort(function(a){return a.pos}).map(function(a){return a})}),[],1),a=1;a<b.length;)a<<=1;var e=2*a-1;a-=1;var i=aJ(e).map(function(){return 0}),f=0;return d.forEach(function(c){var b=c.pos+a;i[b]+=c.weight;for(var d=0;b>0;)b%2&&(d+=i[b+1]),b=b-1>>1,i[b]+=c.weight;f+=c.weight*d}),f}var cO=Object.keys;let cP=cQ;function cQ(a){var e=b1(a),i=cR(a,aJ(e+1).slice(1),"inEdges"),j=cR(a,aK(e-1,-1,-1),"outEdges"),b=cJ(a);cT(a,b);for(var f,g=Number.POSITIVE_INFINITY,c=0,d=0;d<4;++c,++d){cS(c%2?i:j,c%4>=2),b=bZ(a);var h=cL(a,b);h<g&&(d=0,f=_({},b),g=h)}cT(a,f)}function cR(b,a,c){return a.map(function(a){return cq(b,a,c)})}function cS(a,b){var c=new bL;a.forEach(function(a){var e=a.graph().root,d=cE(a,e,c,b);d.vs.forEach(function(b,c){a.node(b).order=c}),cI(a,c,d.vs)})}function cT(b,a){cO(a||{}).forEach(function(c){a[c].forEach(function(a,c){return b.node(a).order=c})})}var cU=function(c,a){var b={};return a.reduce(function(d,a){var e=0,f=0,g=d.length,h=a.slice(-1)[0];return a.forEach(function(i,j){var d=cW(c,i),k=d?c.node(d).order:g;(d||i===h)&&(a.slice(f,j+1).forEach(function(a){c.predecessors(a).forEach(function(d){var f=c.node(d),g=f.order;(g<e||k<g)&&!(f.dummy&&c.node(a).dummy)&&cX(b,d,a)})}),f=j+1,e=k)}),a}),b};function cV(c,a){var b={};function d(e,a,d,f,g){var h;aJ(d).slice(a).forEach(function(a){h=e[a],c.node(h).dummy&&c.predecessors(h).forEach(function(d){var a=c.node(d);a.dummy&&(a.order<f||a.order>g)&&cX(b,d,h)})})}return a.reduce(function(b,a){var e,f=-1,g=0;return a.forEach(function(h,i){if("border"===c.node(h).dummy){var j=c.predecessors(h);j.length&&(d(a,g,i,f,e=c.node(j[0]).order),g=i,f=e)}d(a,g,a.length,e,b.length)}),a}),b}function cW(a,b){if(a.node(b).dummy){var c;return a.predecessors(b).some(function(b){return!!a.node(b).dummy&&(c=b,!0)}),c}}var cX=function(d,a,b){if(a>b){var e=a;a=b,b=e}var c=d[a];c||(d[a]=c={}),c[b]=!0},cY=function(c,a,b){if(a>b){var d=a;a=b,b=d}return!!ao(c,[a,b])},cZ=function(d,a,e,f){var b={},c={},g={};return a.forEach(function(a){return a.forEach(function(a,d){b[a]=a,c[a]=a,g[a]=d})}),a.forEach(function(a){var d=-1;a.forEach(function(a){var i=f(a);if(i.length){i.sort(function(a,b){return g[a]-g[b]});for(var k=(i.length-1)/2,j=Math.floor(k),l=Math.ceil(k);j<=l;++j){var h=i[j];c[a]===a&&d<g[h]&&!cY(e,a,h)&&(c[h]=a,c[a]=b[a]=b[h],d=g[h])}}})}),{root:b,align:c}},c$=function(d,e,f,g,b){var h={},a=c_(d,e,f,b),i=b?"borderLeft":"borderRight";function c(e,f){for(var c=a.nodes(),d={},b=c.pop();b;)d[b]?e(b):(d[b]=!0,c.push.apply(c,[b].concat(aa(f(b))))),b=c.pop()}return c(function(b){h[b]=a.inEdges(b).reduce(function(c,b){return Math.max(c,h[b.v]+a.edge(b))},0)},a.predecessors.bind(a)),c(function(b){var c=a.outEdges(b).reduce(function(c,b){return Math.min(c,h[b.w]-a.edge(b))},Number.POSITIVE_INFINITY),e=d.node(b);c!==Number.POSITIVE_INFINITY&&e.borderType!==i&&(h[b]=Math.max(h[b],c))},a.successors.bind(a)),aS(g).forEach(function(a){h[a]=h[f[a]]}),h};function c_(b,c,f,d){var e=new bL,a=b.graph(),g=c4(a.nodesep,a.edgesep,d);return c.forEach(function(a){var c;a.forEach(function(a){var d=f[a];if(e.setNode(d),c){var h=f[c],i=e.edge(h,d);e.setEdge(h,d,Math.max(g(b,a,c),i||0))}c=a})}),e}var c0=function(b,a){return aM(aS(a),function(a){var c=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;return P(a).forEach(function(e){var f=a[e],g=c5(b,e)/2;c=Math.max(f+g,c),d=Math.min(f-g,d)}),c-d})},c1=function(c,b){var a=aS(b),d=aU(a),e=aT(a);["u","d"].forEach(function(a){["l","r"].forEach(function(g){var j,h=a+g,f=c[h];if(f!==b){var i=aS(f);(j="l"===g?d-aU(i):e-aT(i))&&(c[h]=aP(f,function(a){return a+j}))}})})},c2=function(a,b){return aP(a.ul,function(e,d){if(b)return a[b.toLowerCase()][d];var c=P(a).map(function(b){return a[b][d]}).sort(function(a,b){return a-b});return(c[1]+c[2])/2})},c3=function(a){var e,c=bZ(a),f=_(_({},cU(a,c)),cV(a,c)),b={};["u","d"].forEach(function(d){e="u"===d?c:aS(c).reverse(),["l","r"].forEach(function(c){"r"===c&&(e=e.map(function(a){return aS(a).reverse()}));var i=("u"===d?a.predecessors:a.successors).bind(a),h=cZ(a,e,f,i),g=c$(a,e,h.root,h.align,"r"===c);"r"===c&&(g=aP(g,function(a){return-a})),b[d+c]=g})});var d=c0(a,b);return c1(b,d),c2(b,a.graph().align)},c4=function(a,b,c){return function(h,i,j){var d,f=h.node(i),g=h.node(j),e=0;if(e+=f.width/2,T(f,"labelpos"))switch(f.labelpos.toLowerCase()){case"l":d=-f.width/2;break;case"r":d=f.width/2}if(d&&(e+=c?d:-d),d=0,e+=(f.dummy?b:a)/2,e+=(g.dummy?b:a)/2,e+=g.width/2,T(g,"labelpos"))switch(g.labelpos.toLowerCase()){case"l":d=g.width/2;break;case"r":d=-g.width/2}return d&&(e+=c?d:-d),e}},c5=function(a,b){return a.node(b).width},c6=function(a){var b=bZ(a),c=a.graph().ranksep,d=0;b.forEach(function(b){var e=aT(b.map(function(b){return a.node(b).height}));b.forEach(function(b){return a.node(b).y=d+e/2}),d+=e+c})},E=function(a){a=bV(a),c6(a);var b=c3(a);P(b).forEach(function(c){return a.node(c).x=b[c]})};let c7=E;var c8=function(a){a._prev._next=a._next,a._next._prev=a._prev,delete a._next,delete a._prev},c9=function(a,b){if("_next"!==a&&"_prev"!==a)return b},F=function(){function a(){av(this,a);var b={};b._next=b._prev=b,this._sentinel=b}return w(a,[{key:"dequeue",value:function(){var b=this._sentinel,a=b._prev;if(a!==b)return c8(a),a}},{key:"enqueue",value:function(a){var b=this._sentinel;a._prev&&a._next&&c8(a),a._next=b._next,b._next._prev=a,b._next=a,a._prev=b}},{key:"toString",value:function(){for(var b=[],c=this._sentinel,a=c._prev;a!==c;)b.push(JSON.stringify(a,c9)),a=a._prev;return"["+b.join(", ")+"]"}}]),a}();let da=F,db=dd;var dc=function(){return 1};function dd(b,c){if(1>=b.nodeCount())return[];var a=dg(b,c||dc),d=de(a.graph,a.buckets,a.zeroIdx);return aL(d.map(function(a){return b.outEdges(a.v,a.w)}),[],1)}function de(c,a,d){for(var b,e=[],g=a[a.length-1],h=a[0];c.nodeCount();){for(;b=h.dequeue();)df(c,a,d,b);for(;b=g.dequeue();)df(c,a,d,b);if(c.nodeCount()){for(var f=a.length-2;f>0;--f)if(b=a[f].dequeue()){e=e.concat(df(c,a,d,b,!0));break}}}return e}function df(a,e,f,b,c){var d=c?[]:void 0;return a.inEdges(b.v).forEach(function(b){var h=a.edge(b),g=a.node(b.v);c&&d.push({v:b.v,w:b.w}),g.out-=h,dh(e,f,g)}),a.outEdges(b.v).forEach(function(b){var d=a.edge(b),g=b.w,c=a.node(g);c.in-=d,dh(e,f,c)}),a.removeNode(b.v),d}function dg(a,g){var b=new bL,c=0,d=0;a.nodes().forEach(function(a){b.setNode(a,{v:a,in:0,out:0})}),a.edges().forEach(function(a){var f=b.edge(a.v,a.w)||0,e=g(a);b.setEdge(a.v,a.w,f+e),d=Math.max(d,b.node(a.v).out+=e),c=Math.max(c,b.node(a.w).in+=e)});var e=aJ(d+c+3).map(function(){return new da}),f=c+1;return b.nodes().forEach(function(a){dh(e,f,b.node(a))}),{graph:b,buckets:e,zeroIdx:f}}function dh(b,c,a){a.out?a.in?b[a.out-a.in+c].enqueue(a):b[b.length-1].enqueue(a):b[0].enqueue(a)}var di=function(a){var b=[],c={},d={};return a.nodes().forEach(function f(e){!d[e]&&(d[e]=!0,c[e]=!0,a.outEdges(e).forEach(function(a){c[a.w]?b.push(a):f(a.w)}),delete c[e])}),b},dj=function(a){var b;("greedy"===a.graph().acyclicer?db(a,(b=a,function(a){return b.edge(a).weight})):di(a)).forEach(function(b){var c=a.edge(b);a.removeEdge(b),c.forwardName=b.name,c.reversed=!0,a.setEdge(b.w,b.v,c,aF("rev"))})},dk=function(a){a.edges().forEach(function(c){var b=a.edge(c);if(b.reversed){a.removeEdge(c);var d=b.forwardName;delete b.reversed,delete b.forwardName,a.setEdge(c.w,c.v,b,d)}})},dl=function(a,b,g,h,e,c){var f=e[b][c-1],d=bT(a,"border",{width:0,height:0,rank:c,borderType:b},g);e[b][c]=d,a.setParent(d,h),f&&a.setEdge(f,d,{weight:1})},G=function(a){a.children().forEach(function f(c){var e,b=a.node(c);if(null===(e=a.children(c))|| void 0===e||e.forEach(f),b.minRank){b.borderLeft=[],b.borderRight=[];for(var d=b.minRank,g=b.maxRank+1;d<g;++d)dl(a,"borderLeft","_bl",c,b,d),dl(a,"borderRight","_br",c,b,d)}})};let dm=G;function dn(a){var b=a.graph().rankdir.toLowerCase();("lr"===b||"rl"===b)&&dq(a)}function dp(a){var b=a.graph().rankdir.toLowerCase();("bt"===b||"rl"===b)&&ds(a),("lr"===b||"rl"===b)&&(du(a),dq(a))}function dq(a){a.nodes().forEach(function(b){dr(a.node(b))}),a.edges().forEach(function(b){dr(a.edge(b))})}function dr(a){var b=a.width;a.width=a.height,a.height=b}function ds(a){a.nodes().forEach(function(b){dt(a.node(b))}),a.edges().forEach(function(c){var b=a.edge(c);b.points.forEach(dt),b.y&&dt(b)})}function dt(a){a.y=-a.y}function du(a){a.nodes().forEach(function(b){dv(a.node(b))}),a.edges().forEach(function(c){var b=a.edge(c);b.points.forEach(dv),b.x&&dv(b)})}function dv(a){var b=a.x;a.x=a.y,a.y=b}var dw=Object.keys;function dx(a){var b=bT(a,"root",{},"_root"),c=dz(a),d=aT(aS(c))-1,e=2*d+1;a.graph().nestingRoot=b,a.edges().forEach(function(b){a.edge(b).minlen*=e});var f=dA(a)+1;a.children().forEach(function(g){dy(a,b,e,f,d,c,g)}),a.graph().nodeRankFactor=e}function dy(a,c,h,k,i,j,b){var e=a.children(b);if(!e.length){b!==c&&a.setEdge(c,b,{weight:0,minlen:h});return}var d=b0(a,"_bt"),f=b0(a,"_bb"),g=a.node(b);a.setParent(d,b),g.borderTop=d,a.setParent(f,b),g.borderBottom=f,e.forEach(function(g){dy(a,c,h,k,i,j,g);var e=a.node(g),l=e.borderTop?e.borderTop:g,m=e.borderBottom?e.borderBottom:g,n=e.borderTop?k:2*k,o=l!==m?1:i-j[b]+1;a.setEdge(d,l,{weight:n,minlen:o,nestingEdge:!0}),a.setEdge(m,f,{weight:n,minlen:o,nestingEdge:!0})}),a.parent(b)||a.setEdge(c,d,{weight:0,minlen:i+j[b]})}function dz(a){var b={};function c(e,f){var d=a.children(e);d&&d.length&&d.forEach(function(a){c(a,f+1)}),b[e]=f}return a.children().forEach(function(a){c(a,1)}),b}function dA(a){return a.edges().reduce(function(b,c){return b+a.edge(c).weight},0)}function dB(a){var b=a.graph();a.removeNode(b.nestingRoot),delete b.nestingRoot,a.edges().forEach(function(b){a.edge(b).nestingEdge&&a.removeEdge(b)})}function dC(a){a.graph().dummyChains=[],a.edges().forEach(function(b){dD(a,b)})}function dD(a,c){var f,d,h,g=c.v,e=a.node(g).rank,i=c.w,j=a.node(i).rank,k=c.name,b=a.edge(c),l=b.labelRank;if(j!==e+1){for(a.removeEdge(c),h=0,++e;e<j;++h,++e)b.points=[],d={width:0,height:0,edgeLabel:b,edgeObj:c,rank:e},f=bT(a,"edge",d,"_d"),e===l&&(d.width=b.width,d.height=b.height,d.dummy="edge-label",d.labelpos=b.labelpos),a.setEdge(g,f,{weight:b.weight},k),0===h&&a.graph().dummyChains.push(f),g=f;a.setEdge(g,i,{weight:b.weight},k)}}function dE(a){a.graph().dummyChains.forEach(function(d){var e,b=a.node(d),c=b.edgeLabel;for(a.setEdge(b.edgeObj,c);b.dummy;)e=a.successors(d)[0],a.removeNode(d),c.points.push({x:b.x,y:b.y}),"edge-label"===b.dummy&&(c.x=b.x,c.y=b.y,c.width=b.width,c.height=b.height),d=e,b=a.node(d)})}let dF=dG;function dG(a){var b=dI(a);a.graph().dummyChains.forEach(function(d){for(var g=a.node(d),h=g.edgeObj,j=dH(a,b,h.v,h.w),f=j.path,k=j.lca,c=0,e=f[c],i=!0;d!==h.w;){if(g=a.node(d),i){for(;(e=f[c])!==k&&a.node(e).maxRank<g.rank;)c++;e===k&&(i=!1)}if(!i){for(;c<f.length-1&&a.node(e=f[c+1]).minRank<=g.rank;)c++;e=f[c]}a.setParent(d,e),d=a.successors(d)[0]}})}function dH(f,b,c,d){var a,e,g=[],h=[],i=Math.min(b[c].low,b[d].low),j=Math.max(b[c].lim,b[d].lim);a=c;do g.push(a=f.parent(a));while(a&&(b[a].low>i||j>b[a].lim))for(e=a,a=d;(a=f.parent(a))!==e;)h.push(a);return{path:g.concat(h.reverse()),lca:e}}function dI(a){var b={},d=0;function c(e){var f=d;a.children(e).forEach(c),b[e]={low:f,lim:d++}}return a.children().forEach(c),b}var{normalizeRanks:dJ,removeEmptyRanks:dK}=g;let dL=dM;function dM(c,a){var b=a&&a.debugTiming?b3:b4;b("layout",function(){var a=b("  buildLayoutGraph",function(){return dX(c)});b("  runLayout",function(){dN(a,b)}),b("  updateInputGraph",function(){dO(c,a)})})}function dN(b,a){a("    makeSpaceForEdgeLabels",function(){dY(b)}),a("    removeSelfEdges",function(){d5(b)}),a("    acyclic",function(){dj(b)}),a("    nestingGraph.run",function(){dx(b)}),a("    rank",function(){cl(bV(b))}),a("    injectEdgeLabelProxies",function(){dZ(b)}),a("    removeEmptyRanks",function(){dK(b)}),a("    nestingGraph.cleanup",function(){dB(b)}),a("    normalizeRanks",function(){dJ(b)}),a("    assignRankMinMax",function(){d$(b)}),a("    removeEdgeLabelProxies",function(){d_(b)}),a("    normalize.run",function(){dC(b)}),a("    parentDummyChains",function(){dF(b)}),a("    addBorderSegments",function(){dm(b)}),a("    order",function(){cP(b)}),a("    insertSelfEdges",function(){d6(b)}),a("    adjustCoordinateSystem",function(){dn(b)}),a("    position",function(){c7(b)}),a("    positionSelfEdges",function(){d7(b)}),a("    removeBorderNodes",function(){d4(b)}),a("    normalize.undo",function(){dE(b)}),a("    fixupEdgeLabelCoords",function(){d2(b)}),a("    undoCoordinateSystem",function(){dp(b)}),a("    translateGraph",function(){d0(b)}),a("    assignNodeIntersects",function(){d1(b)}),a("    reversePoints",function(){d3(b)}),a("    acyclic.undo",function(){dk(b)})}function dO(a,b){a.nodes().forEach(function(e){var c=a.node(e),d=b.node(e);c&&(c.x=d.x,c.y=d.y,b.children(e).length&&(c.width=d.width,c.height=d.height))}),a.edges().forEach(function(e){var d=a.edge(e),c=b.edge(e);d.points=c.points,c.x&&(d.x=c.x,d.y=c.y)}),a.graph().width=b.graph().width,a.graph().height=b.graph().height}var dP=["nodesep","edgesep","ranksep","marginx","marginy"],dQ={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},dR=["acyclicer","ranker","rankdir","align"],dS=["width","height"],dT={width:0,height:0},dU=["minlen","weight","width","height","labeloffset"],dV={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},dW=["labelpos"];function dX(a){var b=new bL({multigraph:!0,compound:!0}),c=d9(a.graph());return b.setGraph(_(_(_({},dQ),d8(c,dP)),aO(c,dR))),a.nodes().forEach(function(c){var d=d9(a.node(c));b.setNode(c,_(_({},dT),d8(d,dS))),b.setParent(c,a.parent(c))}),a.edges().forEach(function(c){var d=d9(a.edge(c));b.setEdge(c,_(_(_({},dV),d8(d,dU)),aO(d,dW)))}),b}function dY(a){var b=a.graph();b.ranksep/=2,a.edges().forEach(function(d){var c=a.edge(d);c.minlen*=2,"c"!==c.labelpos.toLowerCase()&&("TB"===b.rankdir||"BT"===b.rankdir?c.width+=c.labeloffset:c.height+=c.labeloffset)})}function dZ(a){a.edges().forEach(function(b){var c=a.edge(b);if(c.width&&c.height){var d=a.node(b.v),e={rank:(a.node(b.w).rank-d.rank)/2+d.rank,e:b};bT(a,"edge-proxy",e,"_ep")}})}function d$(a){var b=0;a.nodes().forEach(function(d){var c=a.node(d);c.borderTop&&(c.minRank=a.node(c.borderTop).rank,c.maxRank=a.node(c.borderBottom).rank,b=Math.max(b,c.maxRank))}),a.graph().maxRank=b}function d_(a){a.nodes().forEach(function(c){var b=a.node(c);"edge-proxy"===b.dummy&&(a.edge(b.e).labelRank=b.rank,a.removeNode(c))})}function d0(a){var c=Number.POSITIVE_INFINITY,g=0,d=Number.POSITIVE_INFINITY,h=0,b=a.graph(),e=b.marginx||0,f=b.marginy||0;function i(a){var b=a.x,e=a.y,f=a.width,i=a.height;c=Math.min(c,b-f/2),g=Math.max(g,b+f/2),d=Math.min(d,e-i/2),h=Math.max(h,e+i/2)}a.nodes().forEach(function(b){i(a.node(b))}),a.edges().forEach(function(c){var b=a.edge(c);b&&b.x&&i(b)}),c-=e,d-=f,a.nodes().forEach(function(e){var b=a.node(e);b.x-=c,b.y-=d}),a.edges().forEach(function(e){var b=a.edge(e);b.points.forEach(function(a){a.x-=c,a.y-=d}),b.x&&(b.x-=c),b.y&&(b.y-=d)}),b.width=g-c+e,b.height=h-d+f}function d1(a){a.edges().forEach(function(c){var d,e,b=a.edge(c),f=a.node(c.v),g=a.node(c.w);b.points?(d=b.points[0],e=b.points[b.points.length-1]):(b.points=[],d=g,e=f),b.points.unshift(bY(f,d)),b.points.push(bY(g,e))})}function d2(a){a.edges().forEach(function(c){var b=a.edge(c);if(b.x)switch(("l"===b.labelpos||"r"===b.labelpos)&&(b.width-=b.labeloffset),b.labelpos){case"l":b.x-=b.width/2+b.labeloffset;break;case"r":b.x+=b.width/2+b.labeloffset}})}function d3(a){a.edges().forEach(function(c){var b=a.edge(c);b.reversed&&b.points.reverse()})}function d4(a){a.nodes().forEach(function(c){if(a.children(c).length){var b=a.node(c),d=a.node(b.borderTop),f=a.node(b.borderBottom),e=a.node(b.borderLeft.slice(-1)[0]),g=a.node(b.borderRight.slice(-1)[0]);b.width=Math.abs(g.x-e.x),b.height=Math.abs(f.y-d.y),b.x=e.x+b.width/2,b.y=d.y+b.height/2}}),a.nodes().forEach(function(b){"border"===a.node(b).dummy&&a.removeNode(b)})}function d5(a){a.edges().forEach(function(b){if(b.v===b.w){var c=a.node(b.v);c.selfEdges||(c.selfEdges=[]),c.selfEdges.push({e:b,label:a.edge(b)}),a.removeEdge(b)}})}function d6(a){bZ(a).forEach(function(b){var c=0;b.forEach(function(d,e){var b=a.node(d);b.order=e+c,b.selfEdges&&b.selfEdges.forEach(function(d){bT(a,"selfedge",{width:d.label.width,height:d.label.height,rank:b.rank,order:e+ ++c,e:d.e,label:d.label},"_se")}),delete b.selfEdges})})}function d7(a){a.nodes().forEach(function(h){var b=a.node(h);if("selfedge"===b.dummy){var f=a.node(b.e.v),c=f.x+f.width/2,d=f.y,e=b.x-c,g=f.height/2;a.setEdge(b.e,b.label),a.removeNode(h),b.label.points=[{x:c+2*e/3,y:d-g},{x:c+5*e/6,y:d-g},{x:c+e,y:d},{x:c+5*e/6,y:d+g},{x:c+2*e/3,y:d+g}],b.label.x=b.x,b.label.y=b.y}})}function d8(a,b){return aP(aO(a,b),Number)}function d9(a){var b={};return P(a||{}).forEach(function(c){return b[c.toLowerCase()]=a[c]}),b}var ea=function(a){var b=util.buildLayerMatrix(a),c=new Graph({compound:!0,multigraph:!0}).setGraph({});return a.nodes().forEach(function(b){c.setNode(b,{label:b}),c.setParent(b,"layer"+a.node(b).rank)}),a.edges().forEach(function(a){c.setEdge(a.v,a.w,{},a.name)}),b.forEach(function(a,b){c.setNode("layer"+b,{rank:"same"}),a.reduce(function(b,a){return c.setEdge(b,a,{style:"invis"}),a})}),c},{Graph:eb}=f,ec=void 0,ed=new z(function(a){var{nodes:b,conns:c,queueId:d}=ao(a,["data"]),e=eg(b,c);ee({nextXY:e,queueId:d})}),ee=function(a){return ed.post.call(ec,a)},ef=function(a){return parseInt(a,10)},eg=function(a,b){void 0===b&&(b={});var c=new bL().setGraph({rankdir:"LR"}).setDefaultEdgeLabel(function(){return{}});a&&a.length||console.warn("[Dagre] empty node");var d=[];P(b||{}).forEach(function(a){var e;c.setEdge.apply(c,aa(b[a])),(e=d).push.apply(e,aa(b[a]))}),d=at(d);var e=[];a.forEach(function(b){var a=ef(b.key);-1!==d.indexOf(a)?c.setNode(a,_({label:a},b)):e.push(a)}),dL(c);var f={};if(c.nodes().forEach(function(a){return f[a]=c.node(a)}),e.length){var g=1;e.forEach(function(a){f[a]={x:10,y:20* ++g}})}return f}})()})()