{"version":3,"file":"main.babbeb2de1bf47c4fc0c.hot-update.js","sources":["webpack:///../react-atomic-organism/packages/organism-react-popup/build/es/ui/molecules/BasePopup.js","webpack:///../react-atomic-organism/packages/organism-react-popup/build/es/ui/molecules/PopupFloatEl.js"],"sourcesContent":["import _classCallCheck from \"reshow-runtime/es/helpers/classCallCheck\";\nimport _createClass from \"reshow-runtime/es/helpers/createClass\";\nimport _assertThisInitialized from \"reshow-runtime/es/helpers/assertThisInitialized\";\nimport _possibleConstructorReturn from \"reshow-runtime/es/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"reshow-runtime/es/helpers/getPrototypeOf\";\nimport _inherits from \"reshow-runtime/es/helpers/inherits\";\nimport _defineProperty from \"reshow-runtime/es/helpers/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React, { PureComponent } from 'react';\n\nvar BasePopup = /*#__PURE__*/function (_PureComponent) {\n  _inherits(BasePopup, _PureComponent);\n\n  var _super = _createSuper(BasePopup);\n\n  function BasePopup() {\n    var _this;\n\n    _classCallCheck(this, BasePopup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      hasError: false\n    });\n\n    return _this;\n  }\n\n  _createClass(BasePopup, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      var onError = this.props.onError;\n\n      if (onError) {\n        callfunc(onError, [error, info]);\n      } else {\n        console.error([error, info]);\n      }\n\n      this.setState({\n        hasError: true\n      });\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      return {\n        hasError: true\n      };\n    }\n  }]);\n\n  return BasePopup;\n}(PureComponent);\n\n_defineProperty(BasePopup, \"defaultProps\", {\n  name: 'default'\n});\n\nexport default BasePopup;\n\n__react_refresh_utils__.registerExportsForReactRefresh(module);\n\nif (module.hot && __react_refresh_utils__.isReactRefreshBoundary(module)) {\n  module.hot.dispose(__react_refresh_utils__.createHotDisposeCallback(module));\n  module.hot.accept(__react_refresh_utils__.createHotErrorHandler(module.id));\n\n  if (!!module.hot.data && !!Object.keys(module.hot.data).length) {\n    if (!module.hot.data.module || __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(module.hot.data.module, module)) {\n      window.location.reload();\n    }\n\n    __react_refresh_utils__.enqueueUpdate();\n  }\n}","import _objectSpread from \"reshow-runtime/es/helpers/objectSpread2\";\nimport _classCallCheck from \"reshow-runtime/es/helpers/classCallCheck\";\nimport _assertThisInitialized from \"reshow-runtime/es/helpers/assertThisInitialized\";\nimport _createClass from \"reshow-runtime/es/helpers/createClass\";\nimport _possibleConstructorReturn from \"reshow-runtime/es/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"reshow-runtime/es/helpers/getPrototypeOf\";\nimport _inherits from \"reshow-runtime/es/helpers/inherits\";\nimport _defineProperty from \"reshow-runtime/es/helpers/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React from 'react';\nimport { mixClass, SemanticUI } from 'react-atomic-molecule';\nimport getWindowOffset, { alignUI, getPositionString } from 'get-window-offset';\nimport { toInt } from 'to-percent-js';\nimport PopupOverlay from '../molecules/PopupOverlay';\n\nvar PopupFloatEl = /*#__PURE__*/function (_PopupOverlay) {\n  _inherits(PopupFloatEl, _PopupOverlay);\n\n  var _super = _createSuper(PopupFloatEl);\n\n  _createClass(PopupFloatEl, [{\n    key: \"getFloatEl\",\n\n    /**\n     * For monitor window resize\n     */\n\n    /**\n     * For extend class\n     */\n    value: function getFloatEl() {\n      return this.floatEl;\n    }\n  }]);\n\n  function PopupFloatEl(props) {\n    var _this;\n\n    _classCallCheck(this, PopupFloatEl);\n\n    _this = _super.call(this, props); // Need exted state form parent class (PopupOverlay)\n\n    _defineProperty(_assertThisInitialized(_this), \"_mount\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleResize\", function () {\n      _this.handleMoveTo();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMoveTo\", function () {\n      if (!_this.floatEl || !_this._mount) {\n        return;\n      }\n\n      var targetEl = _this.props.targetEl;\n\n      if (!document.body.contains(targetEl)) {\n        return;\n      }\n\n      var pos = _this.calPos();\n\n      if (!pos) {\n        return;\n      }\n\n      var diffTop = Math.abs(pos.top - toInt(_this.floatTop));\n      var diffLeft = Math.abs(pos.left - toInt(_this.floatLeft));\n\n      if (1 >= diffTop && 1 >= diffLeft && pos.width === _this.floatWidth && pos.height === _this.floatHeight && pos.className === _this.floatClassName) {\n        return;\n      }\n\n      _this.floatTop = pos.top;\n      _this.floatLeft = pos.left;\n      _this.floatWidth = pos.width;\n      _this.floatHeight = pos.height;\n      _this.floatClassName = pos.className;\n\n      _this.setState(pos);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"calPos\", function () {\n      var _this$props = _this.props,\n          targetEl = _this$props.targetEl,\n          alignParams = _this$props.alignParams;\n      var winInfo = getWindowOffset(targetEl);\n\n      if (!_this.floatEl || !targetEl || !winInfo) {\n        return false;\n      }\n\n      var info = alignUI(targetEl, _this.floatEl, alignParams, winInfo);\n\n      if (!info) {\n        console.error('can not get alignUI info');\n        return;\n      }\n\n      var move = info.move,\n          loc = info.loc;\n      var result = {\n        top: move[1],\n        left: move[0],\n        className: getPositionString(loc)\n      };\n      return result;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setFloatEl\", function (el) {\n      if (el) {\n        _this.floatEl = el;\n      }\n\n      setTimeout(function () {\n        return _this.handleMoveTo();\n      });\n    });\n\n    _this.state = _objectSpread({}, _this.state, {\n      refCb: _this.setFloatEl\n    });\n    return _this;\n  }\n\n  _createClass(PopupFloatEl, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._mount = true;\n      window.addEventListener('resize', this.handleResize);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      this.handleMoveTo();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._mount = false;\n      window.removeEventListener('resize', this.handleResize);\n    }\n  }]);\n\n  return PopupFloatEl;\n}(PopupOverlay);\n\n_defineProperty(PopupFloatEl, \"defaultProps\", {\n  style: {\n    position: 'absolute',\n    right: 'auto'\n  },\n  name: 'float',\n  className: 'popup'\n});\n\nexport default PopupFloatEl;\n\n__react_refresh_utils__.registerExportsForReactRefresh(module);\n\nif (module.hot && __react_refresh_utils__.isReactRefreshBoundary(module)) {\n  module.hot.dispose(__react_refresh_utils__.createHotDisposeCallback(module));\n  module.hot.accept(__react_refresh_utils__.createHotErrorHandler(module.id));\n\n  if (!!module.hot.data && !!Object.keys(module.hot.data).length) {\n    if (!module.hot.data.module || __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(module.hot.data.module, module)) {\n      window.location.reload();\n    }\n\n    __react_refresh_utils__.enqueueUpdate();\n  }\n}"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/GA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}