"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[40],{391(e,b,a){a.r(b),a.d(b,{default:()=>S});var f,g,h,i,j=a(2),k=a(32),l=a(474),d=a(1),m=a(3),n=a(75),o=a(51),p=a(21),q=a(16),r=a(43),s=a(6),t=a(0);function u(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}var v=["col1","col2"],w=["sec"],x=Object.keys,y=function(b){var a=b%60;return Math.floor(b/60)+":"+(10>a?"0"+a:a)},z=function(){return(0,t.jsx)(p.z1,{initStates:["pomodoro"],children:function(b){var a=b.pomodoro;return a?(0,t.jsx)(m.aV,{atom:"ol",children:a.tip.map(function(a,b){return(0,t.jsx)(m.ck,{children:a},b)})}):null}})},A=function(a){var b=a.col1;return a.col2,(0,l.Z)(a,v),(0,t.jsx)(m.XX,{children:(0,t.jsx)(m.X2,{children:(0,t.jsx)(m.sg,{className:"pure-u-md-1-2",children:b})})})},c=function(b){var c=b.countdown,e=b.useTomato;g=(0,m.UM)(D,g);var a=e(c),h=a.sec,i=a.active,j=a.preview,k=a.activeType,l=a.handler,p=a.modal,r=a.resetInput,s=a.TotalSec;return(0,t.jsxs)(m.iX,{children:[(0,d.useMemo)(function(){var d,a,b,e,f=(0,o.aQ)(h/s),p=(0,m.Jx)("big Pomodoro",(a={},b=null===(d=c[k])|| void 0===d?void 0:d.colorName,e=i||j,b in a?Object.defineProperty(a,b,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[b]=e,a)),g={};return f>50&&(g.styles=(0,m._s)({transform:"translate("+(100-f)+"%, 0)"},!1,!1)),(0,t.jsx)(n.k,{onClick:l.clickProgress,className:p,style:C.progress,percent:f,barLabel:y(h),barLabelProps:g})},[h,i,j]),(0,t.jsx)(A,{col1:(0,t.jsx)(m.aV,{style:C.buttonList,children:x(c).map(function(a){var b=c[a],d=null;if(a===k)d=b.colorName;else if(i)return null;var e=l.start({getModal:function(a){return(0,t.jsxs)(q.pd,{basic:!0,ref:p,contentStyle:{textAlign:"center"},children:[(0,t.jsx)(m.zx,{className:"inverted",onClick:l.stop,children:"Pause"}),(0,t.jsx)(m.Wz,{refCb:r,style:C.resetInput,defaultValue:a,inputStyle:C.reset,className:"inverted transparent",leftLabel:"Resst to:",rightLabel:"min",button:"Reset",actionProps:{className:"inverted",onClick:l.reset}})]})}});return(0,t.jsx)(m.zx,{id:a,className:d,onClick:e,onMouseEnter:l.btnMouseIn,onMouseLeave:l.btnMouseOut,children:b.label},a)})})}),f||(f=(0,t.jsx)(z,{}))]})};c.defaultProps={countdown:{POMODORO:{minute:25,label:"Pomodoro",colorName:"red"},SHORT_BREAK:{minute:5,label:"Short Break",colorName:"teal"},LONG_BREAK:{minute:15,label:"Long Break",colorName:"blue"}},useTomato:function(t){var a,c,k=(0,d.useRef)(25),e=60*k.current,f=(a=(0,d.useState)({activeType:"POMODORO",sec:e}),c=2,function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,c)||function d(a,c){if(a){if("string"==typeof a)return u(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return u(a,c)}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=f[0],v=f[1],g=b.sec,m=b.preview,h=b.active,i=b.activeType,x=(0,d.useRef)(),n=(0,d.useRef)(),o=(0,d.useRef)(),y=(0,d.useRef)(),z=(0,d.useRef)();(0,d.useEffect)(function(){return function(){p.stop()}},[]),(0,d.useEffect)(function(){var a=(0,r.u3)();y.current={active:h,activeType:i,now:a,sec:g}},[h,i,g]);var A=function(a,c,d){if(a){var b;c=null!==(b=c)&& void 0!==b?b:60*a,v(function(a){return(0,j.Z)((0,j.Z)((0,j.Z)({},a),d),{},{sec:c})}),k.current=a}},B=function(b,c,d){var a,e=null===(a=z.current)|| void 0===a?void 0:a.activeType;b&&e===b&&z.current.sec?A(c,z.current.sec,d):A(c,null,d)},p={btnMouseIn:function(d){if(null===(f=y.current)|| void 0===f||!f.active){z.current||(z.current=(0,j.Z)({},y.current));var f,a,b,c=null==d?void 0:null===(a=d.currentTarget)|| void 0===a?void 0:a.id,e=null===(b=t[c])|| void 0===b?void 0:b.minute;B(c,e,{activeType:c,preview:!0})}},btnMouseOut:function(b){if(null===(c=y.current)|| void 0===c||!c.active){b.currentTarget,null==b||null===(d=b.currentTarget)|| void 0===d||d.id;var c,d,a=z.current.activeType;a?B(a,t[a].minute,{activeType:a,preview:!1}):v(function(b){return(0,j.Z)((0,j.Z)({},b),{},{activeType:a,preview:!1})})}},clickProgress:function(){if(y.current){if(y.current.active)p.stop();else{var a=y.current.activeType;a&&p.start({countdownKey:a})()}}},start:function(a){var b=void 0===a?{}:a,c=b.countdownKey,d=b.getModal;return function(b){var a,e=null===(a=t[c=(null==b?void 0:b.currentTarget.id)||c])|| void 0===a?void 0:a.minute;x.current?(console.warn("Timer already running"),d&&(0,q.hq)("dom/update",{popup:d(e)})):(y.current=null,B(c,e,{active:!0,activeType:c}),setTimeout(function(){z.current=(0,j.Z)({},y.current),x.current=setInterval(function(){v(function(b){var a=b.sec,e=(0,l.Z)(b,w),c=(0,s.ZP)(y.current,["now"]);if(c){var d=(0,r.u3)()-c;d>1e3&&(a-=Math.floor(d/1e3))}return(a<=0||isNaN(a))&&(p.stop(),a=0),(0,j.Z)((0,j.Z)({},e),{},{sec:a})})},100)},200))}},stop:function(){z.current=(0,j.Z)({},y.current),n.current&&n.current.close(),x.current&&(clearInterval(x.current),x.current=null),v(function(a){return(0,j.Z)((0,j.Z)({},a),{},{active:!1,preview:!1})})},reset:function(){y.current=null,p.stop(),A(o.current.value)}};return{sec:g,active:h,preview:m,activeType:i,TotalSec:e,handler:p,modal:n,resetInput:o}}};let B=c;var C={progress:{cursor:"pointer"},buttonList:{textAlign:"center"},resetInput:{marginLeft:20},reset:{width:20}},D={bar:[{overflow:"inherit"},".ui.progress.Pomodoro .bar"],barLabel:[{fontSize:"7rem"},".ui.progress.Pomodoro .bar>.progress"]},E=a(44),F=a(40);a(7);var G=a(68),H=a(8);function I(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function J(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||K(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(a,c){if(a){if("string"==typeof a)return I(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return I(a,c)}}var L=["children","setSortElement","style"],M=function(a){var f=a.setSortElement,g=a.fixedX,h=a.fixedY,b=J((0,d.useState)(),2),c=b[0],i=b[1],e=(0,d.useRef)(),j=function(a,j){var b,c,h,i=(0,G.nearWhere)(a,j),d=e.current,k=null===(b=a.nextSibling)|| void 0===b?void 0:b.getAttribute("name"),l=null===(c=a.previousSibling)|| void 0===c?void 0:c.getAttribute("name"),g=null==d?void 0:d.getAttribute("name");h=!a.getAttribute("data-first")&&(a.getAttribute("data-last")?!i.top:(k===g||l===g)&&i.top),f({targetEl:a,targetId:a.getAttribute("name"),sortEl:d,sortId:g,reverse:h})};return{isDraging:c,handler:{drag:function(a){if(e.current){i(!0);var c,b,m=a.getPointerTarget,d=a.getClientPointerTarget;if(a.clientX,a.clientY,b=g?d({x:a.start.offset.x}):h?d({y:a.start.offset.y}):m()){var f={x:b.pointXY[0],y:b.pointXY[1]},k=null===(c=b)|| void 0===c?void 0:c.getAttribute("data-type");if(k)"sortable"===k&&j(b,f);else{var l=F.ZP.ancestor(b,'[data-type="sortable"]');l&&j(l,f)}}}},dragEnd:function(a){i(!1)}},comp:e}},N=(0,d.forwardRef)(function(a,o){var b=M(a),c=b.handler,d=b.isDraging,p=b.comp,g=a.children,q=(a.setSortElement,a.style),h=(0,l.Z)(a,L),e=function(b){var a;return(0,j.Z)((0,j.Z)((0,j.Z)({},q),null===(a=g.props)|| void 0===a?void 0:a.style),b)},f=(0,m.J_)((0,m.J_)(g)((0,j.Z)((0,j.Z)({},h),{},{"data-type":"sortable"}))),i=d?R.active:null,k=d?f({style:e(i)}):null,n=f({style:e(),refCb:function(a){return p.current=a}});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.Yz,{onDrag:c.drag,onDragEnd:c.dragEnd,children:n}),k]})}),O=function(g){var l,h=g.children,c=J((0,d.useState)(),2),i=c[0],j=c[1],k=(0,m.n)(h,function(b,a){return(0,t.jsx)(N,{name:a,setSortElement:j,children:b},a)}),b=i||{},n=b.sortId,o=b.targetId,p=b.reverse,e=(0,d.useRef)((0,H.tW)(k).map(function(a){return k[a]})),a=[],q=function(b){l?a.push(b):(l=!0,a.push((0,m.J_)(b)({"data-first":!0})))};e.current.forEach(function(c){var b=c.props.name;n===b?n===o&&a.push(k[b]):o===b?p?(q(k[b]),q(k[n])):(q(k[n]),q(k[b])):q(k[b])});var f=a.length-1;return a[f]=(0,m.J_)(a[f])({"data-last":!0}),e.current=a,{sortOrder:a,setSortElement:j}},P=function(a){var b=O(a).sortOrder;return(0,t.jsx)(m.iX,{style:R.itemList,children:b})};let Q=function(a){return(0,t.jsxs)(P,{children:[(0,t.jsx)(m.ck,{style:R.item,children:"list 1"}),(0,t.jsx)(m.ck,{style:R.item,children:"list 2"}),(0,t.jsx)(m.ck,{style:R.item,children:"list 3"}),(0,t.jsx)(m.ck,{style:R.item,children:"list 4"}),(0,t.jsx)(m.ck,{style:R.item,children:"list 5"})]})};var R={move:{position:"absolute",pointerEvents:"none"},active:{border:"2px dashed rgba(0, 0, 0, 0.2)"},itemList:{margin:"0 auto",width:100},item:{width:100,height:50,border:"1px solid rgba(0, 0, 0, 0.5)"}};let S=function(a){return(0,k.Z)((0,j.Z)((0,j.Z)({},a),{},{pageName:"Tomato"})),(0,t.jsxs)(t.Fragment,{children:[h||(h=(0,t.jsx)(B,{})),i||(i=(0,t.jsx)(Q,{}))]})}}}])